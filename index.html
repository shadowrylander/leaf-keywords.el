<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-09-05 Tue 00:51 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>&lrm;</title>
<meta name="author" content="conao3" />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="https://combinatronics.io/sylvorg/bundle/main/src/styles/primary/syvl.css" />
<link rel="icon" href="https://combinatronics.io/sylvorg/bundle/main/src/icons/favicons/shiny-zigzagoon-galar.ico" sizes="any" />
<link rel="icon" href="https://combinatronics.io/sylvorg/bundle/main/src/icons/favicons/shiny-zigzagoon-galar.svg" />
<link rel="manifest" href="https://combinatronics.io/sylvorg/bundle/main/manifest.json" />
<link rel="stylesheet" type="text/css" href="https://combinatronics.io/sylvorg/bundle/main/src/styles/highlight/paraiso-dark.min.css" />
<script src="https://combinatronics.io/sylvorg/bundle/main/src/scripts/highlight/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
<div class="header">
<h1>We Are Syvlorg.</h1>
<a href="">About Me</a>
<a href="">About This Website</a>
<a href="">About Syvlorg</a>
<a href="https://resume.syvl.org">Résumé</a>
<a href="https://index.syvl.org">Index</a>
</div>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "left",
        displayIndent: "5%",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content" class="content">
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org64f3320">Table of Contents</a></li>
<li><a href="#org2f435c4">Description</a></li>
<li><a href="#org7b42abb">Install</a>
<ul>
<li><a href="#orgc0b8cdf">MELPA</a></li>
<li><a href="#orgd2dc70d">Manual install</a></li>
</ul>
</li>
<li><a href="#orgd9358f9">Usage</a></li>
<li><a href="#org9165c7a">Ensure keywords</a>
<ul>
<li><a href="#org7cacc0f">:package, :ensure keywords</a></li>
<li><a href="#orgefbea69">:feather keyword</a></li>
<li><a href="#org8c10802">:el-get keyword</a></li>
<li><a href="#org83dadbb">:straight keyword</a></li>
<li><a href="#org8860831">:ensure-system-package keyword</a></li>
</ul>
</li>
<li><a href="#orgb45f005">Bind keywords</a>
<ul>
<li><a href="#org741c85d">:bind :bind* keywords</a></li>
<li><a href="#org947022c">:hydra, :mode-hydra, :pretty-hydra keyword</a></li>
<li><a href="#org50936e3">:transient keyword</a></li>
<li><a href="#orgd787156">:chord :chord* keywords</a></li>
<li><a href="#org85268b2">:smartrep, :smartrep* keywords</a></li>
<li><a href="#org80f9a64">:combo, :combo* keywords</a></li>
<li><a href="#org14c0812">:mode-hook keyword</a></li>
</ul>
</li>
<li><a href="#org75d6cb5">Modeline keywords</a>
<ul>
<li><a href="#org8cd265a">:blackout keyword</a></li>
<li><a href="#orgb3a99dc">:diminish keyword</a></li>
<li><a href="#orga70ebfa">:delight keyword</a></li>
</ul>
</li>
<li><a href="#org9e0daa9">Misc keywords</a>
<ul>
<li><a href="#orgac5a6ca">:grugru keyword</a></li>
<li><a href="#org76a00da">:defaults keyword</a></li>
</ul>
</li>
<li><a href="#org0195bc9">Information</a>
<ul>
<li><a href="#orgebb9edc">Donation</a></li>
<li><a href="#org67089cc">Community</a></li>
<li><a href="#orgdb5f07c">Contribution</a>
<ul>
<li><a href="#org8539a07">Define new keywords</a></li>
</ul>
</li>
<li><a href="#orgaa9defa">Migration</a>
<ul>
<li><a href="#orge2ec970">leaf-keywords v1.0 to v2.0</a></li>
</ul>
</li>
<li><a href="#orga33097c">License</a></li>
<li><a href="#org91d6771">Author</a></li>
<li><a href="#org602c3a4">Contributors</a></li>
<li><a href="#org521e77c">Special Thanks</a></li>
</ul>
</li>
</ul>
</div>
</div>
<p>
<a href="https://github.com/conao3/leaf-keywords.el"><img src="https://raw.githubusercontent.com/conao3/files/master/blob/headers/png/leaf-keywords.el.png" alt="leaf-keywords.el.png" /></a>
<a href="https://github.com/conao3/leaf-keywords.el/blob/master/LICENSE"><img src="https://img.shields.io/github/license/conao3/leaf-keywords.el.svg?style=flat-square" alt="leaf-keywords.el.svg?style=flat-square" /></a>
<a href="https://github.com/conao3/leaf-keywords.el/releases"><img src="https://img.shields.io/github/tag/conao3/leaf-keywords.el.svg?style=flat-square" alt="leaf-keywords.el.svg?style=flat-square" /></a>
<a href="https://github.com/conao3/leaf-keywords.el/actions"><img src="https://github.com/conao3/leaf-keywords.el/workflows/Main%20workflow/badge.svg" alt="badge.svg" class="org-svg" /></a>
<a href="https://app.codacy.com/project/conao3/leaf-keywords.el/dashboard"><img src="https://img.shields.io/codacy/grade/f3075770da434fbbb900e88e25af80dd.svg?logo=codacy&amp;style=flat-square" alt="f3075770da434fbbb900e88e25af80dd.svg?logo=codacy&amp;style=flat-square" /></a>
<a href="https://www.patreon.com/conao3"><img src="https://img.shields.io/badge/patreon-become%20a%20patron-orange.svg?logo=patreon&amp;style=flat-square" alt="patreon-become%20a%20patron-orange.svg?logo=patreon&amp;style=flat-square" /></a>
<a href="https://twitter.com/conao_3"><img src="https://img.shields.io/badge/twitter-@conao__3-blue.svg?logo=twitter&amp;style=flat-square" alt="twitter-@conao__3-blue.svg?logo=twitter&amp;style=flat-square" /></a>
<a href="https://join.slack.com/t/conao3-support/shared_invite/enQtNjUzMDMxODcyMjE1LTA4ZGRmOWYwZWE3NmE5NTkyZjk3M2JhYzU2ZmRkMzdiMDdlYTQ0ODMyM2ExOGY0OTkzMzZiMTNmZjJjY2I5NTM"><img src="https://img.shields.io/badge/chat-on_slack-blue.svg?logo=slack&amp;style=flat-square" alt="chat-on_slack-blue.svg?logo=slack&amp;style=flat-square" /></a>
<a href="https://melpa.org/#/leaf-keywords"><img src="https://melpa.org/packages/leaf-keywords-badge.svg" alt="leaf-keywords-badge.svg" class="org-svg" /></a>
<a href="https://stable.melpa.org/#/leaf-keywords"><img src="https://stable.melpa.org/packages/leaf-keywords-badge.svg" alt="leaf-keywords-badge.svg" class="org-svg" /></a>
</p>

<div id="outline-container-org64f3320" class="outline-2">
<h2 id="org64f3320">Table of Contents</h2>
<div class="outline-text-2" id="text-org64f3320">
<ul class="org-ul">
<li><a href="#org2f435c4">Description</a></li>
<li><a href="#org7b42abb">Install</a>
<ul class="org-ul">
<li><a href="#orgc0b8cdf">MELPA</a></li>
<li><a href="#orgd2dc70d">Manual install</a></li>
</ul></li>
<li><a href="#orgd9358f9">Usage</a></li>
<li><a href="#org9165c7a">Ensure keywords</a>
<ul class="org-ul">
<li><a href="#org7cacc0f">:package, :ensure keywords</a></li>
<li><a href="#orgefbea69">:feather keyword</a></li>
<li><a href="#org8c10802">:el-get keyword</a></li>
<li><a href="#org83dadbb">:straight keyword</a></li>
<li><a href="#org8860831">:ensure-system-package keyword</a></li>
</ul></li>
<li><a href="#orgb45f005">Bind keywords</a>
<ul class="org-ul">
<li><a href="#org947022c">:hydra, :mode-hydra, :pretty-hydra keyword</a></li>
<li><a href="#org50936e3">:transient keyword</a></li>
<li><a href="#org14c0812">:mode-hook keyword</a></li>
</ul></li>
<li><a href="#org75d6cb5">Modeline keywords</a>
<ul class="org-ul">
<li><a href="#org8cd265a">:blackout keyword</a></li>
<li><a href="#orgb3a99dc">:diminish keyword</a></li>
<li><a href="#orga70ebfa">:delight keyword</a></li>
</ul></li>
<li><a href="#org9e0daa9">Misc keywords</a>
<ul class="org-ul">
<li><a href="#orgac5a6ca">:grugru keyword</a></li>
<li><a href="#org76a00da">:defaults keyword</a></li>
</ul></li>
<li><a href="#org0195bc9">Information</a>
<ul class="org-ul">
<li><a href="#orgebb9edc">Donation</a></li>
<li><a href="#org67089cc">Community</a></li>
<li><a href="#orgdb5f07c">Contribution</a>
<ul class="org-ul">
<li><a href="#org8539a07">Define new keywords</a></li>
</ul></li>
<li><a href="#orgaa9defa">Migration</a></li>
<li><a href="#orga33097c">License</a></li>
<li><a href="#org91d6771">Author</a></li>
<li><a href="#org602c3a4">Contributors</a></li>
<li><a href="#org521e77c">Special Thanks</a></li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org2f435c4" class="outline-2">
<h2 id="org2f435c4">Description</h2>
<div class="outline-text-2" id="text-org2f435c4">
<p>
<code>leaf.el</code> is yet another <a href="https://github.com/jwiegley/use-package">use-package</a>.
</p>

<p>
<code>leaf-keywords.el</code> add additional keywords for <a href="https://github.com/conao3/leaf.el">leaf.el</a>.
</p>
</div>
</div>

<div id="outline-container-org7b42abb" class="outline-2">
<h2 id="org7b42abb">Install</h2>
<div class="outline-text-2" id="text-org7b42abb">
</div>
<div id="outline-container-orgc0b8cdf" class="outline-3">
<h3 id="orgc0b8cdf">MELPA</h3>
<div class="outline-text-3" id="text-orgc0b8cdf">
<p>
<code>leaf.el</code> and <code>leaf-keywords.el</code> can install with package.el from MELPA, so sample instration code is below.
</p>

<p>
In order to work from Emacs-22, the package manager and the key binding manager
that accompanies <code>leaf</code> must also be developed with the assumption that they will work from Emacs-22.
</p>

<p>
I have plans to develop it, but it's not finished yet.
</p>

<p>
Package to be developed
</p>
<ul class="org-ul">
<li><a href="https://github.com/conao3/feather.el">feather.el</a> instead of <code>package.el</code></li>
<li>leaf-key.el instead of <code>bind-key</code> -&gt; (Achieved! Now <code>leaf</code> builtin)</li>
</ul>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">  (<span style="font-weight: bold;">prog1</span> <span style="font-style: italic;">"prepare leaf"</span>
    (<span style="font-weight: bold;">prog1</span> <span style="font-style: italic;">"package"</span>
      (custom-set-variables
       '(package-archives '((<span style="font-style: italic;">"org"</span>   . <span style="font-style: italic;">"https://orgmode.org/elpa/"</span>)
                            (<span style="font-style: italic;">"melpa"</span> . <span style="font-style: italic;">"https://melpa.org/packages/"</span>)
                            (<span style="font-style: italic;">"gnu"</span>   . <span style="font-style: italic;">"https://elpa.gnu.org/packages/"</span>))))
      (package-initialize))

    (<span style="font-weight: bold;">prog1</span> <span style="font-style: italic;">"leaf"</span>
      (<span style="font-weight: bold;">unless</span> (package-installed-p 'leaf)
        (<span style="font-weight: bold;">unless</span> (assoc 'leaf package-archive-contents)
          (package-refresh-contents))
        (<span style="font-weight: bold;">condition-case</span> err
            (package-install 'leaf)
          (<span style="font-weight: bold;">error</span>
           (package-refresh-contents)       <span style="font-weight: bold; font-style: italic;">; </span><span style="font-weight: bold; font-style: italic;">renew local melpa cache if fail</span>
           (package-install 'leaf))))

      (leaf leaf-keywords
        <span style="font-weight: bold;">:ensure</span> t
        <span style="font-weight: bold;">:config</span> (leaf-keywords-init)))

    (<span style="font-weight: bold;">prog1</span> <span style="font-style: italic;">"optional packages for leaf-keywords"</span>
      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">optional packages if you want to use :hydra, :el-get,,,</span>
      (leaf hydra <span style="font-weight: bold;">:ensure</span> t)
      (leaf el-get <span style="font-weight: bold;">:ensure</span> t
        <span style="font-weight: bold;">:custom</span> ((el-get-git-shallow-clone  . t)))))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-orgd2dc70d" class="outline-3">
<h3 id="orgd2dc70d">Manual install</h3>
<div class="outline-text-3" id="text-orgd2dc70d">
<p>
Put <code>leaf.el</code> at any folder added <code>load-path</code>.
Then <code>(require 'leaf)</code> and use like <code>use-pacakge</code>.
</p>

<p>
(In this example, you installed/loaded leaf directly, so you can configure <code>package.el</code> using <code>leaf</code>.)
</p>
<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">  <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">add to load-path</span>
  <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">(locate-user-emacs-file "site-lisp/leaf.el")</span>
  <span style="font-weight: bold; font-style: italic;">;;  </span><span style="font-weight: bold; font-style: italic;">=&gt; "~/.emacs.d/local/26.1/site-lisp/leaf.el"</span>

  (<span style="font-weight: bold;">prog1</span> <span style="font-style: italic;">"leaf"</span>
    (add-to-list 'load-path (locate-user-emacs-file <span style="font-style: italic;">"site-lisp/leaf.el"</span>))
    (<span style="font-weight: bold;">require</span> '<span style="font-weight: bold; text-decoration: underline;">leaf</span>)
    
    (leaf package
        <span style="font-weight: bold;">:custom</span> ((package-archives . '((<span style="font-style: italic;">"org"</span>   . <span style="font-style: italic;">"https://orgmode.org/elpa/"</span>)
                                       (<span style="font-style: italic;">"melpa"</span> . <span style="font-style: italic;">"https://melpa.org/packages/"</span>)
                                       (<span style="font-style: italic;">"gnu"</span>   . <span style="font-style: italic;">"https://elpa.gnu.org/packages/"</span>))))
        <span style="font-weight: bold;">:config</span>
        (package-initialize))

    (leaf leaf-keywords
      <span style="font-weight: bold;">:ensure</span> t
      <span style="font-weight: bold;">:config</span> (leaf-keywords-init))

    (<span style="font-weight: bold;">prog1</span> <span style="font-style: italic;">"optional packages for leaf-keywords"</span>
      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">optional packages if you want to use :hydra, :el-get,,,</span>
      (leaf hydra <span style="font-weight: bold;">:ensure</span> t)
      (leaf el-get <span style="font-weight: bold;">:ensure</span> t
        <span style="font-weight: bold;">:custom</span> ((el-get-git-shallow-clone  . t)))))
</code></pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgd9358f9" class="outline-2">
<h2 id="orgd9358f9">Usage</h2>
<div class="outline-text-2" id="text-orgd9358f9">
<p>
Use <code>leaf</code> in your init.el like <code>use-package</code>.
You declaratively tell the <code>leaf</code> to configure the package using special keywords.
</p>

<p>
<code>leaf</code> converts your declaration into Elisp for Emacs to understand, and Emacs executes it to configure the package.
</p>
</div>
</div>

<div id="outline-container-org9165c7a" class="outline-2">
<h2 id="org9165c7a">Ensure keywords</h2>
<div class="outline-text-2" id="text-org9165c7a">
</div>
<div id="outline-container-org7cacc0f" class="outline-3">
<h3 id="org7cacc0f">:package, :ensure keywords</h3>
<div class="outline-text-3" id="text-org7cacc0f">
<p>
These keywords are buildin. Info is <a href="https://github.com/conao3/leaf.el#package-ensure-keywords">here</a>.
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">  (cort-deftest-with-macroexpand leaf/package
    '(((leaf leaf
         <span style="font-weight: bold;">:package</span> t
         <span style="font-weight: bold;">:config</span> (leaf-init))
       (<span style="font-weight: bold;">prog1</span> 'leaf
         (leaf-handler-package leaf leaf nil)
         (leaf-init)))

      ((leaf leaf
         <span style="font-weight: bold;">:package</span> t leaf-browser
         <span style="font-weight: bold;">:config</span> (leaf-init))
       (<span style="font-weight: bold;">prog1</span> 'leaf
         (leaf-handler-package leaf leaf nil)
         (leaf-handler-package leaf leaf-browser nil)
         (leaf-init)))

      ((leaf leaf
         <span style="font-weight: bold;">:package</span> feather leaf-key leaf-browser
         <span style="font-weight: bold;">:config</span> (leaf-init))
       (<span style="font-weight: bold;">prog1</span> 'leaf
         (leaf-handler-package leaf feather nil)
         (leaf-handler-package leaf leaf-key nil)
         (leaf-handler-package leaf leaf-browser nil)
         (leaf-init)))))

  (cort-deftest-with-macroexpand leaf/handler-package
    '(((leaf macrostep <span style="font-weight: bold;">:ensure</span> t)
       (<span style="font-weight: bold;">prog1</span> 'macrostep
         (leaf-handler-package macrostep macrostep nil))

       ((leaf-handler-package macrostep macrostep nil)
        (<span style="font-weight: bold;">unless</span>
            (package-installed-p 'macrostep)
          (<span style="font-weight: bold;">condition-case</span> err
              (<span style="font-weight: bold;">progn</span>
                (<span style="font-weight: bold;">unless</span> (assoc 'macrostep package-archive-contents)
                  (package-refresh-contents))
                (package-install 'macrostep))
            (<span style="font-weight: bold;">error</span>
             (<span style="font-weight: bold;">condition-case</span> err
                 (<span style="font-weight: bold;">progn</span>
                   (package-refresh-contents)
                   (package-install 'macrostep))
               (<span style="font-weight: bold;">error</span>
                (leaf-error <span style="font-style: italic;">"In `</span><span style="font-weight: bold; font-style: italic; text-decoration: underline;">macrostep</span><span style="font-style: italic;">' block, failed to :package of macrostep.  Error msg: %s"</span>
                            (error-message-string err)))))))))))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-orgefbea69" class="outline-3">
<h3 id="orgefbea69">:feather keyword</h3>
<div class="outline-text-3" id="text-orgefbea69">
<p>
<code>:feather</code> keyword provede frontend of <code>feather</code>.
</p>

<p>
Like most <code>:package</code>, but use <code>feather-add-after-installed-hook-sexp</code> to set up an S-exp like <code>:config</code> so that feather expects it.
If a leaf block specifies multiple packages to install, the S-exp is set to execute after the last package is installed.
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">  (cort-deftest-with-macroexpand leaf/feather
    '(
      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">'t will be converted leaf--name</span>
      ((leaf leaf
         <span style="font-weight: bold;">:init</span> (leaf-pre-init)
         <span style="font-weight: bold;">:feather</span> t
         <span style="font-weight: bold;">:config</span> (leaf-init))
       (<span style="font-weight: bold;">prog1</span> 'leaf
         (leaf-handler-package leaf leaf nil)
         (feather-add-after-installed-hook-sexp leaf
           (leaf-pre-init)
           (leaf-init))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">multi symbols will be accepted</span>
      ((leaf leaf
         <span style="font-weight: bold;">:init</span> (leaf-pre-init)
         <span style="font-weight: bold;">:feather</span> leaf leaf-polyfill
         <span style="font-weight: bold;">:config</span> (leaf-init))
       (<span style="font-weight: bold;">prog1</span> 'leaf
         (leaf-handler-package leaf leaf nil)
         (leaf-handler-package leaf leaf-polyfill nil)
         (feather-add-after-installed-hook-sexp leaf-polyfill
           (leaf-pre-init)
           (leaf-init))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">multi symbols in list will be accepted</span>
      ((leaf leaf
         <span style="font-weight: bold;">:feather</span> (feather leaf-key leaf-browser)
         <span style="font-weight: bold;">:config</span> (leaf-init))
       (<span style="font-weight: bold;">prog1</span> 'leaf
         (leaf-handler-package leaf feather nil)
         (leaf-handler-package leaf leaf-key nil)
         (leaf-handler-package leaf leaf-browser nil)
         (feather-add-after-installed-hook-sexp leaf-browser
           (leaf-init))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">multi keyword will be accepted</span>
      ((leaf leaf
         <span style="font-weight: bold;">:init</span> (leaf-pre-init)
         <span style="font-weight: bold;">:feather</span> t
         <span style="font-weight: bold;">:feather</span> leaf-polyfill
         <span style="font-weight: bold;">:config</span> (leaf-init))
       (<span style="font-weight: bold;">prog1</span> 'leaf
         (leaf-handler-package leaf leaf nil)
         (leaf-handler-package leaf leaf-polyfill nil)
         (feather-add-after-installed-hook-sexp leaf-polyfill
           (leaf-pre-init)
           (leaf-init))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">keywords such as :preface that expand before :feather</span>
      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">are not registered in the hook of feather</span>
      ((leaf leaf
         <span style="font-weight: bold;">:preface</span> (leaf-preface)
         <span style="font-weight: bold;">:init</span> (leaf-pre-init)
         <span style="font-weight: bold;">:feather</span> t
         <span style="font-weight: bold;">:config</span> (leaf-init))
       (<span style="font-weight: bold;">prog1</span> 'leaf
         (leaf-preface)
         (leaf-handler-package leaf leaf nil)
         (feather-add-after-installed-hook-sexp leaf
           (leaf-pre-init)
           (leaf-init))))))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org8c10802" class="outline-3">
<h3 id="org8c10802">:el-get keyword</h3>
<div class="outline-text-3" id="text-org8c10802">
<p>
<code>:el-get</code> provide frontend of <code>el-get-bundle</code>.
</p>

<p>
If you specify <code>t</code>, leaf assumes that you specified the name of the leaf-block.
</p>

<p>
Given a list, the arguments are passed as is to the <code>el-get-bundle</code>.
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">  (cort-deftest-with-macroexpand leaf/el-get
    '(((leaf leaf
         <span style="font-weight: bold;">:init</span> (leaf-pre-init)
         <span style="font-weight: bold;">:el-get</span> t
         <span style="font-weight: bold;">:config</span> (leaf-init))
       (<span style="font-weight: bold;">prog1</span> 'leaf
         (eval-after-load 'el-get
           '(progn
              (el-get-bundle leaf)))
         (leaf-pre-init)
         (leaf-init)))

      ((leaf leaf
         <span style="font-weight: bold;">:init</span> (leaf-pre-init)
         <span style="font-weight: bold;">:el-get</span> leaf leaf-polyfill
         <span style="font-weight: bold;">:config</span> (leaf-init))
       (<span style="font-weight: bold;">prog1</span> 'leaf
         (eval-after-load 'el-get
           '(progn
              (el-get-bundle leaf)
              (el-get-bundle leaf-polyfill)))
         (leaf-pre-init)
         (leaf-init)))

      ((leaf leaf
         <span style="font-weight: bold;">:init</span> (leaf-pre-init)
         <span style="font-weight: bold;">:el-get</span> t
         <span style="font-weight: bold;">:el-get</span> leaf-polyfill
         <span style="font-weight: bold;">:config</span> (leaf-init))
       (<span style="font-weight: bold;">prog1</span> 'leaf
         (eval-after-load 'el-get
           '(progn
              (el-get-bundle leaf)
              (el-get-bundle leaf-polyfill)))
         (leaf-pre-init)
         (leaf-init)))

      ((leaf leaf
         <span style="font-weight: bold;">:init</span> (leaf-pre-init)
         <span style="font-weight: bold;">:el-get</span> t leaf-polyfill
         <span style="font-weight: bold;">:config</span> (leaf-init))
       (<span style="font-weight: bold;">prog1</span> 'leaf
         (eval-after-load 'el-get
           '(progn
              (el-get-bundle leaf)
              (el-get-bundle leaf-polyfill)))
         (leaf-pre-init)
         (leaf-init)))

      ((leaf leaf
         <span style="font-weight: bold;">:init</span> (leaf-pre-init)
         <span style="font-weight: bold;">:el-get</span> (zenburn-theme
                  <span style="font-weight: bold;">:url</span> <span style="font-style: italic;">"https://raw.githubusercontent.com/bbatsov/zenburn-emacs/master/zenburn-theme.el"</span>
                  (load-theme 'zenburn t))
         <span style="font-weight: bold;">:config</span> (leaf-init))
       (<span style="font-weight: bold;">prog1</span> 'leaf
         (eval-after-load 'el-get
           '(progn
              (el-get-bundle zenburn-theme <span style="font-weight: bold;">:url</span> <span style="font-style: italic;">"https://raw.githubusercontent.com/bbatsov/zenburn-emacs/master/zenburn-theme.el"</span>
                (load-theme 'zenburn t))))
         (leaf-pre-init)
         (leaf-init)))

      ((leaf leaf
         <span style="font-weight: bold;">:init</span> (leaf-pre-init)
         <span style="font-weight: bold;">:el-get</span>
         (yaicomplete
          <span style="font-weight: bold;">:url</span> <span style="font-style: italic;">"https://github.com/tarao/elisp.git"</span>
          <span style="font-weight: bold;">:features</span> yaicomplete)
         (zenburn-theme
          <span style="font-weight: bold;">:url</span> <span style="font-style: italic;">"https://raw.githubusercontent.com/bbatsov/zenburn-emacs/master/zenburn-theme.el"</span>
          (load-theme 'zenburn t))
         (kazu-yamamoto/Mew <span style="font-weight: bold;">:name</span> mew <span style="font-weight: bold;">:build</span> (<span style="font-style: italic;">"./configure"</span> <span style="font-style: italic;">"make"</span>))
         <span style="font-weight: bold;">:config</span> (leaf-init))
       (<span style="font-weight: bold;">prog1</span> 'leaf
         (eval-after-load 'el-get
           '(progn
              (el-get-bundle yaicomplete <span style="font-weight: bold;">:url</span> <span style="font-style: italic;">"https://github.com/tarao/elisp.git"</span> <span style="font-weight: bold;">:features</span> yaicomplete)
              (el-get-bundle zenburn-theme <span style="font-weight: bold;">:url</span> <span style="font-style: italic;">"https://raw.githubusercontent.com/bbatsov/zenburn-emacs/master/zenburn-theme.el"</span>
                (load-theme 'zenburn t))
              (el-get-bundle kazu-yamamoto/Mew <span style="font-weight: bold;">:name</span> mew <span style="font-weight: bold;">:build</span> (<span style="font-style: italic;">"./configure"</span> <span style="font-style: italic;">"make"</span>))))
         (leaf-pre-init)
         (leaf-init)))))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org83dadbb" class="outline-3">
<h3 id="org83dadbb">:straight keyword</h3>
<div class="outline-text-3" id="text-org83dadbb">
<p>
<code>:straight</code> provides a frontend for <code>straight-use-package</code>.
</p>

<p>
If you specify <code>t</code>, leaf assumes that you specified the name of the leaf-block.
</p>

<p>
Given a list, the arguments are passed as is to <code>straight-use-package</code>.
</p>

<div class="org-src-container">
<pre><code class="language-elisp match-braces rainbow-braces">  (cort-deftest-with-macroexpand leaf/straight
    '(((leaf leaf
         <span style="font-weight: bold;">:init</span> (leaf-pre-init)
         <span style="font-weight: bold;">:straight</span> t
         <span style="font-weight: bold;">:config</span> (leaf-init))
       (<span style="font-weight: bold;">prog1</span> 'leaf
         (eval-after-load 'straight
           '(progn
              (straight-use-package 'leaf)))
         (leaf-pre-init)
         (leaf-init)))

      ((leaf leaf
         <span style="font-weight: bold;">:init</span> (leaf-pre-init)
         <span style="font-weight: bold;">:straight</span> leaf leaf-polyfill
         <span style="font-weight: bold;">:config</span> (leaf-init))
       (<span style="font-weight: bold;">prog1</span> 'leaf
         (eval-after-load 'straight
           '(progn
              (straight-use-package 'leaf)
              (straight-use-package 'leaf-polyfill)))
         (leaf-pre-init)
         (leaf-init)))

      ((leaf leaf
         <span style="font-weight: bold;">:init</span> (leaf-pre-init)
         <span style="font-weight: bold;">:straight</span> t
         <span style="font-weight: bold;">:straight</span> leaf-polyfill
         <span style="font-weight: bold;">:config</span> (leaf-init))
       (<span style="font-weight: bold;">prog1</span> 'leaf
         (eval-after-load 'straight
           '(progn
              (straight-use-package 'leaf)
              (straight-use-package 'leaf-polyfill)))
         (leaf-pre-init)
         (leaf-init)))

      ((leaf leaf
         <span style="font-weight: bold;">:init</span> (leaf-pre-init)
         <span style="font-weight: bold;">:straight</span> t leaf-polyfill
         <span style="font-weight: bold;">:config</span> (leaf-init))
       (<span style="font-weight: bold;">prog1</span> 'leaf
         (eval-after-load 'straight
           '(progn
              (straight-use-package 'leaf)
              (straight-use-package 'leaf-polyfill)))
         (leaf-pre-init)
         (leaf-init)))

      ((leaf leaf
         <span style="font-weight: bold;">:init</span> (leaf-pre-init)
         <span style="font-weight: bold;">:straight</span> (zenburn-theme <span style="font-weight: bold;">:type</span> git <span style="font-weight: bold;">:host</span> github <span style="font-weight: bold;">:repo</span> <span style="font-style: italic;">"fake/fake"</span>)
         <span style="font-weight: bold;">:config</span> (leaf-init))
       (<span style="font-weight: bold;">prog1</span> 'leaf
         (eval-after-load 'straight
           '(progn
              (straight-use-package '(zenburn-theme <span style="font-weight: bold;">:type</span> git <span style="font-weight: bold;">:host</span> github <span style="font-weight: bold;">:repo</span> <span style="font-style: italic;">"fake/fake"</span>))))
         (leaf-pre-init)
         (leaf-init)))

      ((leaf leaf
         <span style="font-weight: bold;">:init</span> (leaf-pre-init)
         <span style="font-weight: bold;">:straight</span>
         (zenburn-theme <span style="font-weight: bold;">:type</span> git <span style="font-weight: bold;">:host</span> github <span style="font-weight: bold;">:repo</span> <span style="font-style: italic;">"fake/fake"</span>)
         (yaicomplete <span style="font-weight: bold;">:type</span> git <span style="font-weight: bold;">:host</span> github <span style="font-weight: bold;">:repo</span> <span style="font-style: italic;">"fake/faker"</span>)
         (mew <span style="font-weight: bold;">:type</span> git <span style="font-weight: bold;">:host</span> gitlab <span style="font-weight: bold;">:repo</span> <span style="font-style: italic;">"fake/fakest"</span> <span style="font-weight: bold;">:no-build</span>)
         <span style="font-weight: bold;">:config</span> (leaf-init))
       (<span style="font-weight: bold;">prog1</span> 'leaf
         (eval-after-load 'straight
           '(progn
              (straight-use-package '(zenburn-theme <span style="font-weight: bold;">:type</span> git <span style="font-weight: bold;">:host</span> github <span style="font-weight: bold;">:repo</span> <span style="font-style: italic;">"fake/fake"</span>))
              (straight-use-package '(yaicomplete <span style="font-weight: bold;">:type</span> git <span style="font-weight: bold;">:host</span> github <span style="font-weight: bold;">:repo</span> <span style="font-style: italic;">"fake/faker"</span>))
              (straight-use-package '(mew <span style="font-weight: bold;">:type</span> git <span style="font-weight: bold;">:host</span> gitlab <span style="font-weight: bold;">:repo</span> <span style="font-style: italic;">"fake/fakest"</span> <span style="font-weight: bold;">:no-build</span>))))
         (leaf-pre-init)
         (leaf-init)))))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org8860831" class="outline-3">
<h3 id="org8860831">:ensure-system-package keyword</h3>
<div class="outline-text-3" id="text-org8860831">
<p>
<code>:ensure-system-package</code> provides a frontend for <a href="https://gitlab.com/jabranham/system-packages">system-packages</a>.
</p>

<p>
If you specify <code>t</code>, leaf assumes that you specified the name of the leaf-block.
</p>

<div class="org-src-container">
<pre><code class="language-elisp match-braces rainbow-braces">  (cort-deftest-with-macroexpand leaf/ensure-system-package
    '(
      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">specify a symbol to set to autoload function</span>
      ((leaf leaf
         <span style="font-weight: bold;">:ensure-system-package</span> rg
         <span style="font-weight: bold;">:config</span> (leaf-init))
       (<span style="font-weight: bold;">prog1</span> 'leaf
         (<span style="font-weight: bold;">unless</span> (executable-find <span style="font-style: italic;">"rg"</span>) (system-packages-install <span style="font-style: italic;">"rg"</span>))
         (leaf-init)))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">multi symbols will be accepted</span>
      ((leaf leaf
         <span style="font-weight: bold;">:ensure-system-package</span> rg exa bat)
       (<span style="font-weight: bold;">prog1</span> 'leaf
         (<span style="font-weight: bold;">unless</span> (executable-find <span style="font-style: italic;">"rg"</span>) (system-packages-install <span style="font-style: italic;">"rg"</span>))
         (<span style="font-weight: bold;">unless</span> (executable-find <span style="font-style: italic;">"exa"</span>) (system-packages-install <span style="font-style: italic;">"exa"</span>))
         (<span style="font-weight: bold;">unless</span> (executable-find <span style="font-style: italic;">"bat"</span>) (system-packages-install <span style="font-style: italic;">"bat"</span>))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">multi symbols in list will be accepted</span>
      ((leaf leaf
         <span style="font-weight: bold;">:ensure-system-package</span> (rg exa bat))
       (<span style="font-weight: bold;">prog1</span> 'leaf
         (<span style="font-weight: bold;">unless</span> (executable-find <span style="font-style: italic;">"rg"</span>) (system-packages-install <span style="font-style: italic;">"rg"</span>))
         (<span style="font-weight: bold;">unless</span> (executable-find <span style="font-style: italic;">"exa"</span>) (system-packages-install <span style="font-style: italic;">"exa"</span>))
         (<span style="font-weight: bold;">unless</span> (executable-find <span style="font-style: italic;">"bat"</span>) (system-packages-install <span style="font-style: italic;">"bat"</span>))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">It is accepted even if you specify symbol and list at the same time</span>
      ((leaf leaf
         <span style="font-weight: bold;">:ensure-system-package</span> openssl (rg exa bat))
       (<span style="font-weight: bold;">prog1</span> 'leaf
         (<span style="font-weight: bold;">unless</span> (executable-find <span style="font-style: italic;">"openssl"</span>) (system-packages-install <span style="font-style: italic;">"openssl"</span>))
         (<span style="font-weight: bold;">unless</span> (executable-find <span style="font-style: italic;">"rg"</span>) (system-packages-install <span style="font-style: italic;">"rg"</span>))
         (<span style="font-weight: bold;">unless</span> (executable-find <span style="font-style: italic;">"exa"</span>) (system-packages-install <span style="font-style: italic;">"exa"</span>))
         (<span style="font-weight: bold;">unless</span> (executable-find <span style="font-style: italic;">"bat"</span>) (system-packages-install <span style="font-style: italic;">"bat"</span>))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">if you specify t, use leaf--name</span>
      ((leaf rg
         <span style="font-weight: bold;">:ensure-system-package</span> t)
       (<span style="font-weight: bold;">prog1</span> 'rg
         (<span style="font-weight: bold;">unless</span> (executable-find <span style="font-style: italic;">"rg"</span>) (system-packages-install <span style="font-style: italic;">"rg"</span>))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">Specify the package the package name for given symbol</span>
      ((leaf leaf
         <span style="font-weight: bold;">:ensure-system-package</span> (rg . ripgrep))
       (<span style="font-weight: bold;">prog1</span> 'leaf
         (<span style="font-weight: bold;">unless</span> (executable-find <span style="font-style: italic;">"rg"</span>) (system-packages-install <span style="font-style: italic;">"ripgrep"</span>))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">Install package if the presence of file is nil</span>
      ((leaf vterm
         <span style="font-weight: bold;">:ensure-system-package</span> ((<span style="font-style: italic;">"/usr/lib/libvterm.so"</span> . libvterm)
                                 (cmake libtool)))
       (<span style="font-weight: bold;">prog1</span> 'vterm
         (<span style="font-weight: bold;">unless</span> (file-exists-p <span style="font-style: italic;">"/usr/lib/libvterm.so"</span>) (system-packages-install <span style="font-style: italic;">"libvterm"</span>))
         (<span style="font-weight: bold;">unless</span> (executable-find <span style="font-style: italic;">"cmake"</span>) (system-packages-install <span style="font-style: italic;">"cmake"</span>))
         (<span style="font-weight: bold;">unless</span> (executable-find <span style="font-style: italic;">"libtool"</span>) (system-packages-install <span style="font-style: italic;">"libtool"</span>))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">you can specify install shell command</span>
      ((leaf vterm
         <span style="font-weight: bold;">:ensure-system-package</span> (prettier . <span style="font-style: italic;">"npm i -g prettier-plugin-svelte"</span>))
       (<span style="font-weight: bold;">prog1</span> 'vterm
         (<span style="font-weight: bold;">unless</span> (executable-find <span style="font-style: italic;">"prettier"</span>) (async-shell-command <span style="font-style: italic;">"npm i -g prettier-plugin-svelte"</span>))))))
</code></pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb45f005" class="outline-2">
<h2 id="orgb45f005">Bind keywords</h2>
<div class="outline-text-2" id="text-orgb45f005">
</div>
<div id="outline-container-org741c85d" class="outline-3">
<h3 id="org741c85d">:bind :bind* keywords</h3>
<div class="outline-text-3" id="text-org741c85d">
<p>
These keywords are buildin. Info is <a href="https://github.com/conao3/leaf.el#bind-bind-keywords">here</a>.
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">  (cort-deftest-with-macroexpand leaf/bind
    '(((leaf macrostep
         <span style="font-weight: bold;">:package</span> t
         <span style="font-weight: bold;">:bind</span> ((<span style="font-style: italic;">"C-c e"</span> . macrostep-expand)))
       (<span style="font-weight: bold;">prog1</span> 'macrostep
         (autoload #'macrostep-expand <span style="font-style: italic;">"macrostep"</span> nil t)
         (leaf-handler-package macrostep macrostep nil)
         (leaf-keys ((<span style="font-style: italic;">"C-c e"</span> . macrostep-expand)))))

      ((leaf macrostep
         <span style="font-weight: bold;">:package</span> t
         <span style="font-weight: bold;">:bind</span> (<span style="font-style: italic;">"C-c e"</span> . macrostep-expand))
       (<span style="font-weight: bold;">prog1</span> 'macrostep
         (autoload #'macrostep-expand <span style="font-style: italic;">"macrostep"</span> nil t)
         (leaf-handler-package macrostep macrostep nil)
         (leaf-keys
          ((<span style="font-style: italic;">"C-c e"</span> . macrostep-expand)))))

      ((leaf color-moccur
         <span style="font-weight: bold;">:bind</span>
         (<span style="font-style: italic;">"M-s O"</span> . moccur)
         (<span style="font-style: italic;">"M-o"</span> . isearch-moccur)
         (<span style="font-style: italic;">"M-O"</span> . isearch-moccur-all))
       (<span style="font-weight: bold;">prog1</span> 'color-moccur
         (autoload #'moccur <span style="font-style: italic;">"color-moccur"</span> nil t)
         (autoload #'isearch-moccur <span style="font-style: italic;">"color-moccur"</span> nil t)
         (autoload #'isearch-moccur-all <span style="font-style: italic;">"color-moccur"</span> nil t)
         (leaf-keys ((<span style="font-style: italic;">"M-s O"</span> . moccur)
                     (<span style="font-style: italic;">"M-o"</span> . isearch-moccur)
                     (<span style="font-style: italic;">"M-O"</span> . isearch-moccur-all)))))

      ((leaf color-moccur
         <span style="font-weight: bold;">:bind</span> ((<span style="font-style: italic;">"M-s O"</span> . moccur)
                (<span style="font-style: italic;">"M-o"</span> . isearch-moccur)
                (<span style="font-style: italic;">"M-O"</span> . isearch-moccur-all)))
       (<span style="font-weight: bold;">prog1</span> 'color-moccur
         (autoload #'moccur <span style="font-style: italic;">"color-moccur"</span> nil t)
         (autoload #'isearch-moccur <span style="font-style: italic;">"color-moccur"</span> nil t)
         (autoload #'isearch-moccur-all <span style="font-style: italic;">"color-moccur"</span> nil t)
         (leaf-keys ((<span style="font-style: italic;">"M-s O"</span> . moccur)
                     (<span style="font-style: italic;">"M-o"</span> . isearch-moccur)
                     (<span style="font-style: italic;">"M-O"</span> . isearch-moccur-all)))))

      ((leaf color-moccur
         <span style="font-weight: bold;">:bind</span>
         (<span style="font-style: italic;">"M-s"</span> . nil)
         (<span style="font-style: italic;">"M-s o"</span> . isearch-moccur)
         (<span style="font-style: italic;">"M-s i"</span> . isearch-moccur-all))
       (<span style="font-weight: bold;">prog1</span> 'color-moccur
         (autoload #'isearch-moccur <span style="font-style: italic;">"color-moccur"</span> nil t)
         (autoload #'isearch-moccur-all <span style="font-style: italic;">"color-moccur"</span> nil t)
         (leaf-keys ((<span style="font-style: italic;">"M-s"</span>)
                     (<span style="font-style: italic;">"M-s o"</span> . isearch-moccur)
                     (<span style="font-style: italic;">"M-s i"</span> . isearch-moccur-all)))))

      ((leaf color-moccur
         <span style="font-weight: bold;">:bind</span> ((<span style="font-style: italic;">"M-s"</span> . nil)
                (<span style="font-style: italic;">"M-s o"</span> . isearch-moccur)
                (<span style="font-style: italic;">"M-s i"</span> . isearch-moccur-all)))
       (<span style="font-weight: bold;">prog1</span> 'color-moccur
         (autoload #'isearch-moccur <span style="font-style: italic;">"color-moccur"</span> nil t)
         (autoload #'isearch-moccur-all <span style="font-style: italic;">"color-moccur"</span> nil t)
         (leaf-keys ((<span style="font-style: italic;">"M-s"</span>)
                     (<span style="font-style: italic;">"M-s o"</span> . isearch-moccur)
                     (<span style="font-style: italic;">"M-s i"</span> . isearch-moccur-all)))))

      ((leaf color-moccur
         <span style="font-weight: bold;">:bind</span>
         (<span style="font-style: italic;">"M-s O"</span> . moccur)
         (<span style="font-weight: bold;">:isearch-mode-map</span>
          (<span style="font-style: italic;">"M-o"</span> . isearch-moccur)
          (<span style="font-style: italic;">"M-O"</span> . isearch-moccur-all)))
       (<span style="font-weight: bold;">prog1</span> 'color-moccur
         (autoload #'moccur <span style="font-style: italic;">"color-moccur"</span> nil t)
         (autoload #'isearch-moccur <span style="font-style: italic;">"color-moccur"</span> nil t)
         (autoload #'isearch-moccur-all <span style="font-style: italic;">"color-moccur"</span> nil t)
         (leaf-keys ((<span style="font-style: italic;">"M-s O"</span> . moccur)
                     (<span style="font-weight: bold;">:isearch-mode-map</span>
                      <span style="font-weight: bold;">:package</span> color-moccur
                      (<span style="font-style: italic;">"M-o"</span> . isearch-moccur)
                      (<span style="font-style: italic;">"M-O"</span> . isearch-moccur-all))))))

      ((leaf color-moccur
         <span style="font-weight: bold;">:bind</span>
         (<span style="font-style: italic;">"M-s O"</span> . moccur)
         (<span style="font-weight: bold;">:isearch-mode-map</span>
          <span style="font-weight: bold;">:package</span> isearch
          (<span style="font-style: italic;">"M-o"</span> . isearch-moccur)
          (<span style="font-style: italic;">"M-O"</span> . isearch-moccur-all)))
       (<span style="font-weight: bold;">prog1</span> 'color-moccur
         (autoload #'moccur <span style="font-style: italic;">"color-moccur"</span> nil t)
         (autoload #'isearch-moccur <span style="font-style: italic;">"color-moccur"</span> nil t)
         (autoload #'isearch-moccur-all <span style="font-style: italic;">"color-moccur"</span> nil t)
         (leaf-keys ((<span style="font-style: italic;">"M-s O"</span> . moccur)
                     (<span style="font-weight: bold;">:isearch-mode-map</span>
                      <span style="font-weight: bold;">:package</span> isearch
                      (<span style="font-style: italic;">"M-o"</span> . isearch-moccur)
                      (<span style="font-style: italic;">"M-O"</span> . isearch-moccur-all))))))

      ((leaf color-moccur
         <span style="font-weight: bold;">:bind</span> ((<span style="font-style: italic;">"M-s O"</span> . moccur)
                (<span style="font-weight: bold;">:isearch-mode-map</span>
                 <span style="font-weight: bold;">:package</span> isearch
                 (<span style="font-style: italic;">"M-o"</span> . isearch-moccur)
                 (<span style="font-style: italic;">"M-O"</span> . isearch-moccur-all))))
       (<span style="font-weight: bold;">prog1</span> 'color-moccur
         (autoload #'moccur <span style="font-style: italic;">"color-moccur"</span> nil t)
         (autoload #'isearch-moccur <span style="font-style: italic;">"color-moccur"</span> nil t)
         (autoload #'isearch-moccur-all <span style="font-style: italic;">"color-moccur"</span> nil t)
         (leaf-keys ((<span style="font-style: italic;">"M-s O"</span> . moccur)
                     (<span style="font-weight: bold;">:isearch-mode-map</span>
                      <span style="font-weight: bold;">:package</span> isearch
                      (<span style="font-style: italic;">"M-o"</span> . isearch-moccur)
                      (<span style="font-style: italic;">"M-O"</span> . isearch-moccur-all))))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">you also use symbol instead of keyword to specify keymap</span>
      ((leaf color-moccur
         <span style="font-weight: bold;">:bind</span> ((<span style="font-style: italic;">"M-s O"</span> . moccur)
                (isearch-mode-map
                 <span style="font-weight: bold;">:package</span> isearch
                 (<span style="font-style: italic;">"M-o"</span> . isearch-moccur)
                 (<span style="font-style: italic;">"M-O"</span> . isearch-moccur-all))))
       (<span style="font-weight: bold;">prog1</span> 'color-moccur
         (autoload #'moccur <span style="font-style: italic;">"color-moccur"</span> nil t)
         (autoload #'isearch-moccur <span style="font-style: italic;">"color-moccur"</span> nil t)
         (autoload #'isearch-moccur-all <span style="font-style: italic;">"color-moccur"</span> nil t)
         (leaf-keys ((<span style="font-style: italic;">"M-s O"</span> . moccur)
                     (isearch-mode-map
                      <span style="font-weight: bold;">:package</span> isearch
                      (<span style="font-style: italic;">"M-o"</span> . isearch-moccur)
                      (<span style="font-style: italic;">"M-O"</span> . isearch-moccur-all))))))))

  (cort-deftest-with-macroexpand leaf/leaf-key
    '(((leaf-key <span style="font-style: italic;">"C-M-i"</span> 'flyspell-correct-wrapper)
       (<span style="font-weight: bold;">let*</span> ((old (lookup-key global-map (kbd <span style="font-style: italic;">"C-M-i"</span>)))
              (value `((<span style="font-style: italic;">"C-M-i"</span> . global-map) flyspell-correct-wrapper ,(<span style="font-weight: bold;">and</span> old (not (numberp old)) old))))
         (<span style="font-weight: bold;">push</span> value leaf-key-bindlist)
         (define-key global-map (kbd <span style="font-style: italic;">"C-M-i"</span>) 'flyspell-correct-wrapper)))))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org947022c" class="outline-3">
<h3 id="org947022c">:hydra, :mode-hydra, :pretty-hydra keyword</h3>
<div class="outline-text-3" id="text-org947022c">
<p>
<code>:hydra</code> provide frontend for <a href="https://github.com/abo-abo/hydra">hydra</a>.
</p>

<p>
If you pass a list, you pass it to <code>defhydra</code>, and if you pass a nested list, you pass each one to it.
</p>

<p>
The reason for using this keyword is that it automatically creates an <code>autoload</code> statement.
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">  (cort-deftest-with-macroexpand leaf/hydra
    '(((leaf face-remap
         <span style="font-weight: bold;">:hydra</span> (hydra-zoom
                 (global-map <span style="font-style: italic;">"&lt;f2&gt;"</span>)
                 <span style="font-style: italic;">"zoom"</span>
                 (<span style="font-style: italic;">"g"</span> text-scale-increase <span style="font-style: italic;">"in"</span>)
                 (<span style="font-style: italic;">"l"</span> text-scale-decrease <span style="font-style: italic;">"out"</span>)))
       (<span style="font-weight: bold;">prog1</span> 'face-remap
         (autoload #'text-scale-increase <span style="font-style: italic;">"face-remap"</span> nil t)
         (autoload #'text-scale-decrease <span style="font-style: italic;">"face-remap"</span> nil t)
         (eval-after-load 'hydra
           '(progn
              (defhydra hydra-zoom
                (global-map <span style="font-style: italic;">"&lt;f2&gt;"</span>)
                <span style="font-style: italic;">"zoom"</span>
                (<span style="font-style: italic;">"g"</span> text-scale-increase <span style="font-style: italic;">"in"</span>)
                (<span style="font-style: italic;">"l"</span> text-scale-decrease <span style="font-style: italic;">"out"</span>))))))

      ((leaf yasnippet
         <span style="font-weight: bold;">:bind</span> (<span style="font-weight: bold;">:yas-minor-mode-map</span>
                (<span style="font-style: italic;">"&lt;f3&gt;"</span> . hydra-yas-primary/body)
                (<span style="font-style: italic;">"&lt;f2&gt;"</span> . hydra-yas/body))
         <span style="font-weight: bold;">:hydra</span> ((hydra-yas-primary
                  (<span style="font-weight: bold;">:hint</span> nil)
                  <span style="font-style: italic;">"yas-primary"</span>
                  (<span style="font-style: italic;">"i"</span> yas-insert-snippet)
                  (<span style="font-style: italic;">"n"</span> yas-new-snippet)
                  (<span style="font-style: italic;">"v"</span> yas-visit-snippet-file))
                 (hydra-yas
                  (<span style="font-weight: bold;">:color</span> blue <span style="font-weight: bold;">:hint</span> nil)
                  <span style="font-style: italic;">"</span>
<span style="font-style: italic;">                ^YASnippets^</span>
<span style="font-style: italic;">  --------------------------------------------</span>
<span style="font-style: italic;">    Modes:    Load/Visit:    Actions:</span>

<span style="font-style: italic;">   _g_lobal  _d_irectory    _i_nsert</span>
<span style="font-style: italic;">   _m_inor   _f_ile         _t_ryout</span>
<span style="font-style: italic;">   _e_xtra   _l_ist         _n_ew</span>
<span style="font-style: italic;">           _a_ll</span>
<span style="font-style: italic;">  "</span>
                  (<span style="font-style: italic;">"d"</span> yas-load-directory)
                  (<span style="font-style: italic;">"e"</span> yas-activate-extra-mode)
                  (<span style="font-style: italic;">"i"</span> yas-insert-snippet)
                  (<span style="font-style: italic;">"f"</span> yas-visit-snippet-file <span style="font-weight: bold;">:color</span> blue)
                  (<span style="font-style: italic;">"n"</span> yas-new-snippet)
                  (<span style="font-style: italic;">"t"</span> yas-tryout-snippet)
                  (<span style="font-style: italic;">"l"</span> yas-describe-tables)
                  (<span style="font-style: italic;">"g"</span> yas/global-mode)
                  (<span style="font-style: italic;">"m"</span> yas/minor-mode)
                  (<span style="font-style: italic;">"a"</span> yas-reload-all))))
       (<span style="font-weight: bold;">prog1</span> 'yasnippet
         (autoload #'yas-insert-snippet <span style="font-style: italic;">"yasnippet"</span> nil t)
         (autoload #'yas-new-snippet <span style="font-style: italic;">"yasnippet"</span> nil t)
         (autoload #'yas-visit-snippet-file <span style="font-style: italic;">"yasnippet"</span> nil t)
         (autoload #'yas-load-directory <span style="font-style: italic;">"yasnippet"</span> nil t)
         (autoload #'yas-activate-extra-mode <span style="font-style: italic;">"yasnippet"</span> nil t)
         (autoload #'yas-tryout-snippet <span style="font-style: italic;">"yasnippet"</span> nil t)
         (autoload #'yas-describe-tables <span style="font-style: italic;">"yasnippet"</span> nil t)
         (autoload #'yas/global-mode <span style="font-style: italic;">"yasnippet"</span> nil t)
         (autoload #'yas/minor-mode <span style="font-style: italic;">"yasnippet"</span> nil t)
         (autoload #'yas-reload-all <span style="font-style: italic;">"yasnippet"</span> nil t)
         (autoload #'hydra-yas-primary/body <span style="font-style: italic;">"yasnippet"</span> nil t)
         (autoload #'hydra-yas/body <span style="font-style: italic;">"yasnippet"</span> nil t)
         (leaf-keys
          ((<span style="font-weight: bold;">:yas-minor-mode-map</span> <span style="font-weight: bold;">:package</span> yasnippet
                                (<span style="font-style: italic;">"&lt;f3&gt;"</span> . hydra-yas-primary/body)
                                (<span style="font-style: italic;">"&lt;f2&gt;"</span> . hydra-yas/body))))
         (eval-after-load 'hydra
           '(progn
              (defhydra hydra-yas-primary
                (<span style="font-weight: bold;">:hint</span> nil)
                <span style="font-style: italic;">"yas-primary"</span>
                (<span style="font-style: italic;">"i"</span> yas-insert-snippet)
                (<span style="font-style: italic;">"n"</span> yas-new-snippet)
                (<span style="font-style: italic;">"v"</span> yas-visit-snippet-file))
              (defhydra hydra-yas
                (<span style="font-weight: bold;">:color</span> blue <span style="font-weight: bold;">:hint</span> nil)
                <span style="font-style: italic;">"</span>
<span style="font-style: italic;">                ^YASnippets^</span>
<span style="font-style: italic;">  --------------------------------------------</span>
<span style="font-style: italic;">    Modes:    Load/Visit:    Actions:</span>

<span style="font-style: italic;">   _g_lobal  _d_irectory    _i_nsert</span>
<span style="font-style: italic;">   _m_inor   _f_ile         _t_ryout</span>
<span style="font-style: italic;">   _e_xtra   _l_ist         _n_ew</span>
<span style="font-style: italic;">           _a_ll</span>
<span style="font-style: italic;">  "</span>
                (<span style="font-style: italic;">"d"</span> yas-load-directory)
                (<span style="font-style: italic;">"e"</span> yas-activate-extra-mode)
                (<span style="font-style: italic;">"i"</span> yas-insert-snippet)
                (<span style="font-style: italic;">"f"</span> yas-visit-snippet-file <span style="font-weight: bold;">:color</span> blue)
                (<span style="font-style: italic;">"n"</span> yas-new-snippet)
                (<span style="font-style: italic;">"t"</span> yas-tryout-snippet)
                (<span style="font-style: italic;">"l"</span> yas-describe-tables)
                (<span style="font-style: italic;">"g"</span> yas/global-mode)
                (<span style="font-style: italic;">"m"</span> yas/minor-mode)
                (<span style="font-style: italic;">"a"</span> yas-reload-all))))))))
</code></pre>
</div>

<p>
And leaf support <a href="https://github.com/jerrypnz/major-mode-hydra.el">major-mode-hydra</a> and <a href="https://github.com/jerrypnz/major-mode-hydra.el#pretty-hydra">pretty-hydra</a> via <code>:mode-hydra</code> and <code>:pretty-hydra</code>.
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">  (cort-deftest-with-macroexpand leaf/mode-hydra
    '(
      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">assume leaf--name as major-mode and no body</span>
      ((leaf go-mode
         <span style="font-weight: bold;">:ensure</span> t
         <span style="font-weight: bold;">:mode</span> <span style="font-style: italic;">"\\.go\\'"</span>
         <span style="font-weight: bold;">:mode-hydra</span>
         (<span style="font-style: italic;">"Doc"</span>
          ((<span style="font-style: italic;">"d"</span> godoc-at-point <span style="font-style: italic;">"doc at point"</span>))
          <span style="font-style: italic;">"Imports"</span>
          ((<span style="font-style: italic;">"ia"</span> go-import-add <span style="font-style: italic;">"add"</span>)
           (<span style="font-style: italic;">"ir"</span> go-remove-unused-imports <span style="font-style: italic;">"cleanup"</span>))))

       (<span style="font-weight: bold;">prog1</span> 'go-mode
         (<span style="font-weight: bold;">unless</span> (fboundp 'godoc-at-point) (autoload #'godoc-at-point <span style="font-style: italic;">"go-mode"</span> nil t))
         (<span style="font-weight: bold;">unless</span> (fboundp 'go-import-add) (autoload #'go-import-add <span style="font-style: italic;">"go-mode"</span> nil t))
         (<span style="font-weight: bold;">unless</span> (fboundp 'go-remove-unused-imports) (autoload #'go-remove-unused-imports <span style="font-style: italic;">"go-mode"</span> nil t))
         (<span style="font-weight: bold;">unless</span> (fboundp 'go-mode) (autoload #'go-mode <span style="font-style: italic;">"go-mode"</span> nil t))
         (<span style="font-weight: bold;">declare-function</span> godoc-at-point <span style="font-style: italic;">"go-mode"</span>)
         (<span style="font-weight: bold;">declare-function</span> go-import-add <span style="font-style: italic;">"go-mode"</span>)
         (<span style="font-weight: bold;">declare-function</span> go-remove-unused-imports <span style="font-style: italic;">"go-mode"</span>)
         (<span style="font-weight: bold;">declare-function</span> go-mode <span style="font-style: italic;">"go-mode"</span>)
         (leaf-handler-package go-mode go-mode nil)
         (add-to-list 'auto-mode-alist '(<span style="font-style: italic;">"\\.go\\'"</span> . go-mode))
         (major-mode-hydra-define+ go-mode nil
           (<span style="font-style: italic;">"Doc"</span>
            ((<span style="font-style: italic;">"d"</span> godoc-at-point <span style="font-style: italic;">"doc at point"</span>))
            <span style="font-style: italic;">"Imports"</span>
            ((<span style="font-style: italic;">"ia"</span> go-import-add <span style="font-style: italic;">"add"</span>)
             (<span style="font-style: italic;">"ir"</span> go-remove-unused-imports <span style="font-style: italic;">"cleanup"</span>))))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">assume leaf--name as major-mode and spesific body</span>
      ((leaf go-mode
         <span style="font-weight: bold;">:ensure</span> t
         <span style="font-weight: bold;">:mode</span> <span style="font-style: italic;">"\\.go\\'"</span>
         <span style="font-weight: bold;">:mode-hydra</span>
         ((<span style="font-weight: bold;">:title</span> <span style="font-style: italic;">"Go Commands"</span>)
          (<span style="font-style: italic;">"Doc"</span>
           ((<span style="font-style: italic;">"d"</span> godoc-at-point <span style="font-style: italic;">"doc at point"</span>))
           <span style="font-style: italic;">"Imports"</span>
           ((<span style="font-style: italic;">"ia"</span> go-import-add <span style="font-style: italic;">"add"</span>)
            (<span style="font-style: italic;">"ir"</span> go-remove-unused-imports <span style="font-style: italic;">"cleanup"</span>)))))

       (<span style="font-weight: bold;">prog1</span> 'go-mode
         (<span style="font-weight: bold;">unless</span> (fboundp 'godoc-at-point) (autoload #'godoc-at-point <span style="font-style: italic;">"go-mode"</span> nil t))
         (<span style="font-weight: bold;">unless</span> (fboundp 'go-import-add) (autoload #'go-import-add <span style="font-style: italic;">"go-mode"</span> nil t))
         (<span style="font-weight: bold;">unless</span> (fboundp 'go-remove-unused-imports) (autoload #'go-remove-unused-imports <span style="font-style: italic;">"go-mode"</span> nil t))
         (<span style="font-weight: bold;">unless</span> (fboundp 'go-mode) (autoload #'go-mode <span style="font-style: italic;">"go-mode"</span> nil t))
         (<span style="font-weight: bold;">declare-function</span> godoc-at-point <span style="font-style: italic;">"go-mode"</span>)
         (<span style="font-weight: bold;">declare-function</span> go-import-add <span style="font-style: italic;">"go-mode"</span>)
         (<span style="font-weight: bold;">declare-function</span> go-remove-unused-imports <span style="font-style: italic;">"go-mode"</span>)
         (<span style="font-weight: bold;">declare-function</span> go-mode <span style="font-style: italic;">"go-mode"</span>)
         (leaf-handler-package go-mode go-mode nil)
         (add-to-list 'auto-mode-alist '(<span style="font-style: italic;">"\\.go\\'"</span> . go-mode))
         (major-mode-hydra-define+ go-mode
           (<span style="font-weight: bold;">:title</span> <span style="font-style: italic;">"Go Commands"</span>)
           (<span style="font-style: italic;">"Doc"</span>
            ((<span style="font-style: italic;">"d"</span> godoc-at-point <span style="font-style: italic;">"doc at point"</span>))
            <span style="font-style: italic;">"Imports"</span>
            ((<span style="font-style: italic;">"ia"</span> go-import-add <span style="font-style: italic;">"add"</span>)
             (<span style="font-style: italic;">"ir"</span> go-remove-unused-imports <span style="font-style: italic;">"cleanup"</span>))))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">specify major-mode and body</span>
      ((leaf go-mode
         <span style="font-weight: bold;">:ensure</span> t
         <span style="font-weight: bold;">:mode</span> <span style="font-style: italic;">"\\.go\\'"</span>
         <span style="font-weight: bold;">:mode-hydra</span>
         (go-mode
          (<span style="font-weight: bold;">:title</span> <span style="font-style: italic;">"Go Commands"</span>)
          (<span style="font-style: italic;">"Doc"</span>
           ((<span style="font-style: italic;">"d"</span> godoc-at-point <span style="font-style: italic;">"doc at point"</span>))
           <span style="font-style: italic;">"Imports"</span>
           ((<span style="font-style: italic;">"ia"</span> go-import-add <span style="font-style: italic;">"add"</span>)
            (<span style="font-style: italic;">"ir"</span> go-remove-unused-imports <span style="font-style: italic;">"cleanup"</span>)))))

       (<span style="font-weight: bold;">prog1</span> 'go-mode
         (<span style="font-weight: bold;">unless</span> (fboundp 'godoc-at-point) (autoload #'godoc-at-point <span style="font-style: italic;">"go-mode"</span> nil t))
         (<span style="font-weight: bold;">unless</span> (fboundp 'go-import-add) (autoload #'go-import-add <span style="font-style: italic;">"go-mode"</span> nil t))
         (<span style="font-weight: bold;">unless</span> (fboundp 'go-remove-unused-imports) (autoload #'go-remove-unused-imports <span style="font-style: italic;">"go-mode"</span> nil t))
         (<span style="font-weight: bold;">unless</span> (fboundp 'go-mode) (autoload #'go-mode <span style="font-style: italic;">"go-mode"</span> nil t))
         (<span style="font-weight: bold;">declare-function</span> godoc-at-point <span style="font-style: italic;">"go-mode"</span>)
         (<span style="font-weight: bold;">declare-function</span> go-import-add <span style="font-style: italic;">"go-mode"</span>)
         (<span style="font-weight: bold;">declare-function</span> go-remove-unused-imports <span style="font-style: italic;">"go-mode"</span>)
         (<span style="font-weight: bold;">declare-function</span> go-mode <span style="font-style: italic;">"go-mode"</span>)
         (leaf-handler-package go-mode go-mode nil)
         (add-to-list 'auto-mode-alist '(<span style="font-style: italic;">"\\.go\\'"</span> . go-mode))
         (major-mode-hydra-define+ go-mode
           (<span style="font-weight: bold;">:title</span> <span style="font-style: italic;">"Go Commands"</span>)
           (<span style="font-style: italic;">"Doc"</span>
            ((<span style="font-style: italic;">"d"</span> godoc-at-point <span style="font-style: italic;">"doc at point"</span>))
            <span style="font-style: italic;">"Imports"</span>
            ((<span style="font-style: italic;">"ia"</span> go-import-add <span style="font-style: italic;">"add"</span>)
             (<span style="font-style: italic;">"ir"</span> go-remove-unused-imports <span style="font-style: italic;">"cleanup"</span>))))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">define two or more :mode-hydra at once</span>
      ((leaf elisp-mode
         <span style="font-weight: bold;">:mode-hydra</span>
         (emacs-lisp-mode
          (<span style="font-weight: bold;">:title</span> <span style="font-style: italic;">"Emacs-lisp Commands"</span>)
          (<span style="font-style: italic;">"Eval"</span>
           ((<span style="font-style: italic;">"b"</span> eval-buffer <span style="font-style: italic;">"buffer"</span>)
            (<span style="font-style: italic;">"e"</span> eval-defun <span style="font-style: italic;">"defun"</span>)
            (<span style="font-style: italic;">"r"</span> eval-region <span style="font-style: italic;">"region"</span>))))

         (lisp-interaction-mode
          (<span style="font-weight: bold;">:title</span> <span style="font-style: italic;">"Lisp interaction Commands"</span>)
          (<span style="font-style: italic;">"Eval"</span>
           ((<span style="font-style: italic;">"t"</span> eval-print-last-sexp <span style="font-style: italic;">"this"</span>)))))

       (<span style="font-weight: bold;">prog1</span> 'elisp-mode
         (<span style="font-weight: bold;">unless</span> (fboundp 'eval-buffer) (autoload #'eval-buffer <span style="font-style: italic;">"elisp-mode"</span> nil t))
         (<span style="font-weight: bold;">unless</span> (fboundp 'eval-defun) (autoload #'eval-defun <span style="font-style: italic;">"elisp-mode"</span> nil t))
         (<span style="font-weight: bold;">unless</span> (fboundp 'eval-region) (autoload #'eval-region <span style="font-style: italic;">"elisp-mode"</span> nil t))
         (<span style="font-weight: bold;">unless</span> (fboundp 'eval-print-last-sexp) (autoload #'eval-print-last-sexp <span style="font-style: italic;">"elisp-mode"</span> nil t))
         (<span style="font-weight: bold;">declare-function</span> eval-buffer <span style="font-style: italic;">"elisp-mode"</span>)
         (<span style="font-weight: bold;">declare-function</span> eval-defun <span style="font-style: italic;">"elisp-mode"</span>)
         (<span style="font-weight: bold;">declare-function</span> eval-region <span style="font-style: italic;">"elisp-mode"</span>)
         (<span style="font-weight: bold;">declare-function</span> eval-print-last-sexp <span style="font-style: italic;">"elisp-mode"</span>)
         (major-mode-hydra-define+ emacs-lisp-mode
           (<span style="font-weight: bold;">:title</span> <span style="font-style: italic;">"Emacs-lisp Commands"</span>)
           (<span style="font-style: italic;">"Eval"</span>
            ((<span style="font-style: italic;">"b"</span> eval-buffer <span style="font-style: italic;">"buffer"</span>)
             (<span style="font-style: italic;">"e"</span> eval-defun <span style="font-style: italic;">"defun"</span>)
             (<span style="font-style: italic;">"r"</span> eval-region <span style="font-style: italic;">"region"</span>))))
         (major-mode-hydra-define+ lisp-interaction-mode
           (<span style="font-weight: bold;">:title</span> <span style="font-style: italic;">"Lisp interaction Commands"</span>)
           (<span style="font-style: italic;">"Eval"</span>
            ((<span style="font-style: italic;">"t"</span> eval-print-last-sexp <span style="font-style: italic;">"this"</span>))))))))

  (cort-deftest-with-macroexpand leaf/pretty-hydra
    '(
      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">assume leaf--name as major-mode and no body</span>
      ((leaf go-mode
         <span style="font-weight: bold;">:ensure</span> t
         <span style="font-weight: bold;">:mode</span> <span style="font-style: italic;">"\\.go\\'"</span>
         <span style="font-weight: bold;">:pretty-hydra</span>
         (<span style="font-style: italic;">"Doc"</span>
          ((<span style="font-style: italic;">"d"</span> godoc-at-point <span style="font-style: italic;">"doc at point"</span>))
          <span style="font-style: italic;">"Imports"</span>
          ((<span style="font-style: italic;">"ia"</span> go-import-add <span style="font-style: italic;">"add"</span>)
           (<span style="font-style: italic;">"ir"</span> go-remove-unused-imports <span style="font-style: italic;">"cleanup"</span>))))

       (<span style="font-weight: bold;">prog1</span> 'go-mode
         (<span style="font-weight: bold;">unless</span> (fboundp 'godoc-at-point) (autoload #'godoc-at-point <span style="font-style: italic;">"go-mode"</span> nil t))
         (<span style="font-weight: bold;">unless</span> (fboundp 'go-import-add) (autoload #'go-import-add <span style="font-style: italic;">"go-mode"</span> nil t))
         (<span style="font-weight: bold;">unless</span> (fboundp 'go-remove-unused-imports) (autoload #'go-remove-unused-imports <span style="font-style: italic;">"go-mode"</span> nil t))
         (<span style="font-weight: bold;">unless</span> (fboundp 'go-mode) (autoload #'go-mode <span style="font-style: italic;">"go-mode"</span> nil t))
         (<span style="font-weight: bold;">declare-function</span> godoc-at-point <span style="font-style: italic;">"go-mode"</span>)
         (<span style="font-weight: bold;">declare-function</span> go-import-add <span style="font-style: italic;">"go-mode"</span>)
         (<span style="font-weight: bold;">declare-function</span> go-remove-unused-imports <span style="font-style: italic;">"go-mode"</span>)
         (<span style="font-weight: bold;">declare-function</span> go-mode <span style="font-style: italic;">"go-mode"</span>)
         (leaf-handler-package go-mode go-mode nil)
         (add-to-list 'auto-mode-alist '(<span style="font-style: italic;">"\\.go\\'"</span> . go-mode))
         (pretty-hydra-define+ go-mode nil
           (<span style="font-style: italic;">"Doc"</span>
            ((<span style="font-style: italic;">"d"</span> godoc-at-point <span style="font-style: italic;">"doc at point"</span>))
            <span style="font-style: italic;">"Imports"</span>
            ((<span style="font-style: italic;">"ia"</span> go-import-add <span style="font-style: italic;">"add"</span>)
             (<span style="font-style: italic;">"ir"</span> go-remove-unused-imports <span style="font-style: italic;">"cleanup"</span>))))))))
</code></pre>
</div>
</div>
</div>



<div id="outline-container-org50936e3" class="outline-3">
<h3 id="org50936e3">:transient keyword</h3>
<div class="outline-text-3" id="text-org50936e3">
<p>
<code>:transient</code> provide frontend for <a href="https://github.com/magit/transient">transient</a>.
</p>

<p>
If you pass a list, you pass it to <code>define-transient-command</code>, and if you pass a nested list, you pass each one to it.
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">  (cort-deftest-with-macroexpand leaf/transient
    '(((leaf dired-git
         <span style="font-weight: bold;">:transient</span>
         (transient-dwim-dired-mode--git
          ()
          <span style="font-style: italic;">"Transient-dwim for `</span><span style="font-weight: bold; font-style: italic; text-decoration: underline;">dired-mode--git</span><span style="font-style: italic;">'."</span>
          [[<span style="font-style: italic;">"Worktree"</span>
            (<span style="font-style: italic;">"c"</span> <span style="font-style: italic;">"Commit"</span> dired-git-commit)
            (<span style="font-style: italic;">"S"</span> <span style="font-style: italic;">"Stage"</span> dired-git-stage)
            (<span style="font-style: italic;">"U"</span> <span style="font-style: italic;">"Unstage"</span> dired-git-unstage)
            (<span style="font-style: italic;">"zz"</span> <span style="font-style: italic;">"Stash"</span> dired-git-stash)
            (<span style="font-style: italic;">"zp"</span> <span style="font-style: italic;">"Stash pop"</span> dired-git-stash-pop)
            (<span style="font-style: italic;">"X"</span> <span style="font-style: italic;">"Reset --hard"</span> dired-git-reset-hard)]
           [<span style="font-style: italic;">"Branch"</span>
            (<span style="font-style: italic;">"b"</span> <span style="font-style: italic;">"Branch"</span> dired-git-branch)
            (<span style="font-style: italic;">"t"</span> <span style="font-style: italic;">"Tag"</span> dired-git-tag)
            (<span style="font-style: italic;">"f"</span> <span style="font-style: italic;">"Fetch"</span> dired-git-fetch)
            (<span style="font-style: italic;">"F"</span> <span style="font-style: italic;">"Pull"</span> dired-git-pull)
            (<span style="font-style: italic;">"m"</span> <span style="font-style: italic;">"Merge"</span> dired-git-merge)
            (<span style="font-style: italic;">"P"</span> <span style="font-style: italic;">"Push"</span> dired-git-push)
            (<span style="font-style: italic;">"!"</span> <span style="font-style: italic;">"Run"</span> dired-git-run)]]))

       (<span style="font-weight: bold;">prog1</span> 'dired-git
         (transient-define-prefix transient-dwim-dired-mode--git ()
           <span style="font-style: italic;">"Transient-dwim for `</span><span style="font-weight: bold; font-style: italic; text-decoration: underline;">dired-mode--git</span><span style="font-style: italic;">'."</span>
           [[<span style="font-style: italic;">"Worktree"</span>
             (<span style="font-style: italic;">"c"</span> <span style="font-style: italic;">"Commit"</span> dired-git-commit)
             (<span style="font-style: italic;">"S"</span> <span style="font-style: italic;">"Stage"</span> dired-git-stage)
             (<span style="font-style: italic;">"U"</span> <span style="font-style: italic;">"Unstage"</span> dired-git-unstage)
             (<span style="font-style: italic;">"zz"</span> <span style="font-style: italic;">"Stash"</span> dired-git-stash)
             (<span style="font-style: italic;">"zp"</span> <span style="font-style: italic;">"Stash pop"</span> dired-git-stash-pop)
             (<span style="font-style: italic;">"X"</span> <span style="font-style: italic;">"Reset --hard"</span> dired-git-reset-hard)]
            [<span style="font-style: italic;">"Branch"</span>
             (<span style="font-style: italic;">"b"</span> <span style="font-style: italic;">"Branch"</span> dired-git-branch)
             (<span style="font-style: italic;">"t"</span> <span style="font-style: italic;">"Tag"</span> dired-git-tag)
             (<span style="font-style: italic;">"f"</span> <span style="font-style: italic;">"Fetch"</span> dired-git-fetch)
             (<span style="font-style: italic;">"F"</span> <span style="font-style: italic;">"Pull"</span> dired-git-pull)
             (<span style="font-style: italic;">"m"</span> <span style="font-style: italic;">"Merge"</span> dired-git-merge)
             (<span style="font-style: italic;">"P"</span> <span style="font-style: italic;">"Push"</span> dired-git-push)
             (<span style="font-style: italic;">"!"</span> <span style="font-style: italic;">"Run"</span> dired-git-run)]])))))
</code></pre>
</div>
</div>
</div>
<div id="outline-container-orgd787156" class="outline-3">
<h3 id="orgd787156">:chord :chord* keywords</h3>
<div class="outline-text-3" id="text-orgd787156">
<p>
<code>:chord</code> and <code>:chord*</code> provide frontend for <code>leaf-key-chord</code> which bind key for <a href="https://github.com/emacsorphanage/key-chord">key-chord</a>.
</p>

<p>
The usage and notes are the same as for the <code>:bind</code> keyword.
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">  (cort-deftest-with-macroexpand leaf/chord
    '(((leaf macrostep
         <span style="font-weight: bold;">:ensure</span> t
         <span style="font-weight: bold;">:chord</span> ((<span style="font-style: italic;">"jk"</span> . macrostep-expand)))
       (<span style="font-weight: bold;">prog1</span> 'macrostep
         (autoload #'macrostep-expand <span style="font-style: italic;">"macrostep"</span> nil t)
         (leaf-handler-package macrostep macrostep nil)
         (eval-after-load 'key-chord
           '(progn
              (leaf-key-chords
               ((<span style="font-style: italic;">"jk"</span> . macrostep-expand)))))))

      ((leaf macrostep
         <span style="font-weight: bold;">:ensure</span> t
         <span style="font-weight: bold;">:chord</span> (<span style="font-style: italic;">"jk"</span> . macrostep-expand))
       (<span style="font-weight: bold;">prog1</span> 'macrostep
         (autoload #'macrostep-expand <span style="font-style: italic;">"macrostep"</span> nil t)
         (leaf-handler-package macrostep macrostep nil)
         (eval-after-load 'key-chord
           '(progn
              (leaf-key-chords
               ((<span style="font-style: italic;">"jk"</span> . macrostep-expand)))))))

      ((leaf color-moccur
         <span style="font-weight: bold;">:chord</span>
         (<span style="font-style: italic;">"jk"</span> . moccur)
         (<span style="font-style: italic;">"fi"</span> . isearch-moccur))
       (<span style="font-weight: bold;">prog1</span> 'color-moccur
         (autoload #'moccur <span style="font-style: italic;">"color-moccur"</span> nil t)
         (autoload #'isearch-moccur <span style="font-style: italic;">"color-moccur"</span> nil t)
         (eval-after-load 'key-chord
           '(progn
              (leaf-key-chords
               ((<span style="font-style: italic;">"jk"</span> . moccur)
                (<span style="font-style: italic;">"fi"</span> . isearch-moccur)))))))

      ((leaf color-moccur
         <span style="font-weight: bold;">:chord</span> ((<span style="font-style: italic;">"jk"</span> . moccur)
                 (<span style="font-style: italic;">"fi"</span> . isearch-moccur)))
       (<span style="font-weight: bold;">prog1</span> 'color-moccur
         (autoload #'moccur <span style="font-style: italic;">"color-moccur"</span> nil t)
         (autoload #'isearch-moccur <span style="font-style: italic;">"color-moccur"</span> nil t)
         (eval-after-load 'key-chord
           '(progn
              (leaf-key-chords
               ((<span style="font-style: italic;">"jk"</span> . moccur)
                (<span style="font-style: italic;">"fi"</span> . isearch-moccur)))))))

      ((leaf color-moccur
         <span style="font-weight: bold;">:chord</span>
         (<span style="font-style: italic;">"jk"</span> . nil)
         (<span style="font-style: italic;">"fi"</span> . isearch-moccur))
       (<span style="font-weight: bold;">prog1</span> 'color-moccur
         (autoload #'isearch-moccur <span style="font-style: italic;">"color-moccur"</span> nil t)
         (eval-after-load 'key-chord
           '(progn
              (leaf-key-chords
               ((<span style="font-style: italic;">"jk"</span>)
                (<span style="font-style: italic;">"fi"</span> . isearch-moccur)))))))

      ((leaf color-moccur
         <span style="font-weight: bold;">:chord</span> ((<span style="font-style: italic;">"jk"</span> . nil)
                 (<span style="font-style: italic;">"fi"</span> . isearch-moccur)))
       (<span style="font-weight: bold;">prog1</span> 'color-moccur
         (autoload #'isearch-moccur <span style="font-style: italic;">"color-moccur"</span> nil t)
         (eval-after-load 'key-chord
           '(progn
              (leaf-key-chords
               ((<span style="font-style: italic;">"jk"</span>)
                (<span style="font-style: italic;">"fi"</span> . isearch-moccur)))))))

      ((leaf color-moccur
         <span style="font-weight: bold;">:chord</span>
         (<span style="font-style: italic;">"jk"</span> . moccur)
         (<span style="font-weight: bold;">:isearch-mode-map</span>
          <span style="font-weight: bold;">:package</span> isearch
          (<span style="font-style: italic;">"ji"</span> . isearch-moccur)
          (<span style="font-style: italic;">"jo"</span> . isearch-moccur-all)))
       (<span style="font-weight: bold;">prog1</span> 'color-moccur
         (autoload #'moccur <span style="font-style: italic;">"color-moccur"</span> nil t)
         (autoload #'isearch-moccur <span style="font-style: italic;">"color-moccur"</span> nil t)
         (autoload #'isearch-moccur-all <span style="font-style: italic;">"color-moccur"</span> nil t)
         (eval-after-load 'key-chord
           '(progn
              (leaf-key-chords
               ((<span style="font-style: italic;">"jk"</span> . moccur)
                (<span style="font-weight: bold;">:isearch-mode-map</span>
                 <span style="font-weight: bold;">:package</span> isearch
                 (<span style="font-style: italic;">"ji"</span> . isearch-moccur)
                 (<span style="font-style: italic;">"jo"</span> . isearch-moccur-all))))))))

      ((leaf color-moccur
         <span style="font-weight: bold;">:chord</span> ((<span style="font-style: italic;">"jk"</span> . moccur)
                 (<span style="font-weight: bold;">:isearch-mode-map</span>
                  <span style="font-weight: bold;">:package</span> isearch
                  (<span style="font-style: italic;">"ji"</span> . isearch-moccur)
                  (<span style="font-style: italic;">"jo"</span> . isearch-moccur-all))))
       (<span style="font-weight: bold;">prog1</span> 'color-moccur
         (autoload #'moccur <span style="font-style: italic;">"color-moccur"</span> nil t)
         (autoload #'isearch-moccur <span style="font-style: italic;">"color-moccur"</span> nil t)
         (autoload #'isearch-moccur-all <span style="font-style: italic;">"color-moccur"</span> nil t)
         (eval-after-load 'key-chord
           '(progn
              (leaf-key-chords
               ((<span style="font-style: italic;">"jk"</span> . moccur)
                (<span style="font-weight: bold;">:isearch-mode-map</span>
                 <span style="font-weight: bold;">:package</span> isearch
                 (<span style="font-style: italic;">"ji"</span> . isearch-moccur)
                 (<span style="font-style: italic;">"jo"</span> . isearch-moccur-all))))))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">you also use symbol instead of keyword to specify keymap</span>
      ((leaf color-moccur
         <span style="font-weight: bold;">:chord</span> ((<span style="font-style: italic;">"jk"</span> . moccur)
                 (isearch-mode-map
                  <span style="font-weight: bold;">:package</span> isearch
                  (<span style="font-style: italic;">"ji"</span> . isearch-moccur)
                  (<span style="font-style: italic;">"jo"</span> . isearch-moccur-all))))
       (<span style="font-weight: bold;">prog1</span> 'color-moccur
         (autoload #'moccur <span style="font-style: italic;">"color-moccur"</span> nil t)
         (autoload #'isearch-moccur <span style="font-style: italic;">"color-moccur"</span> nil t)
         (autoload #'isearch-moccur-all <span style="font-style: italic;">"color-moccur"</span> nil t)
         (eval-after-load 'key-chord
           '(progn
              (leaf-key-chords
               ((<span style="font-style: italic;">"jk"</span> . moccur)
                (isearch-mode-map
                 <span style="font-weight: bold;">:package</span> isearch
                 (<span style="font-style: italic;">"ji"</span> . isearch-moccur)
                 (<span style="font-style: italic;">"jo"</span> . isearch-moccur-all))))))))))

  (cort-deftest-with-macroexpand leaf/leaf-key-chord
    '(((leaf-key-chord <span style="font-style: italic;">"jj"</span> 'undo 'c-mode-map)
       (leaf-key [key-chord 106 106] 'undo 'c-mode-map))

      ((leaf-key-chord <span style="font-style: italic;">"jk"</span> 'undo 'c-mode-map)
       (<span style="font-weight: bold;">progn</span>
         (leaf-key [key-chord 106 107] 'undo 'c-mode-map)
         (leaf-key [key-chord 107 106] 'undo 'c-mode-map)))

      ((leaf-key-chord <span style="font-style: italic;">"jj"</span> 'undo)
       (leaf-key [key-chord 106 106] 'undo nil))

      ((leaf-key-chord <span style="font-style: italic;">"jk"</span> 'undo)
       (<span style="font-weight: bold;">progn</span>
         (leaf-key [key-chord 106 107] 'undo nil)
         (leaf-key [key-chord 107 106] 'undo nil)))))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org85268b2" class="outline-3">
<h3 id="org85268b2">:smartrep, :smartrep* keywords</h3>
<div class="outline-text-3" id="text-org85268b2">
<p>
<code>:smartrep</code> and <code>:smartrep*</code> provide frontend for <a href="https://github.com/myuhe/smartrep.el">smartrep</a>.
</p>

<p>
They can process a list of arguments that the <code>smartrep</code> accepts, or a nested list of them.
</p>

<p>
Automatically generates an <code>autoload</code> statement when a function symbol is passed.
</p>

<p>
Quoting a function or quoting a binding list works the same way.
</p>

<p>
If you omit the key-map to bind, use <code>global-map</code> instead in <code>:smartrep</code> and
<code>leaf-key-override-global-map</code> for leaf-key in <code>:smartrep*</code>.
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">  (cort-deftest-with-macroexpand leaf/smartrep
    '(((leaf multiple-cursors
         <span style="font-weight: bold;">:smartrep</span> (<span style="font-style: italic;">"C-t"</span>
                    ((<span style="font-style: italic;">"C-p"</span> . mc/mark-previous-like-this)
                     (<span style="font-style: italic;">"C-n"</span> . mc/mark-next-like-this)
                     (<span style="font-style: italic;">"u"</span>   . mc/unmark-next-like-this)
                     (<span style="font-style: italic;">"U"</span>   . mc/unmark-previous-like-this)
                     (<span style="font-style: italic;">"s"</span>   . mc/skip-to-next-like-this)
                     (<span style="font-style: italic;">"S"</span>   . mc/skip-to-previous-like-this)
                     (<span style="font-style: italic;">"*"</span>   . mc/mark-all-like-this))))
       (<span style="font-weight: bold;">prog1</span> 'multiple-cursors
         (autoload #'mc/mark-previous-like-this <span style="font-style: italic;">"multiple-cursors"</span> nil t)
         (autoload #'mc/mark-next-like-this <span style="font-style: italic;">"multiple-cursors"</span> nil t)
         (autoload #'mc/unmark-next-like-this <span style="font-style: italic;">"multiple-cursors"</span> nil t)
         (autoload #'mc/unmark-previous-like-this <span style="font-style: italic;">"multiple-cursors"</span> nil t)
         (autoload #'mc/skip-to-next-like-this <span style="font-style: italic;">"multiple-cursors"</span> nil t)
         (autoload #'mc/skip-to-previous-like-this <span style="font-style: italic;">"multiple-cursors"</span> nil t)
         (autoload #'mc/mark-all-like-this <span style="font-style: italic;">"multiple-cursors"</span> nil t)
         (eval-after-load 'smartrep
           '(progn
              (smartrep-define-key global-map <span style="font-style: italic;">"C-t"</span>
                '((<span style="font-style: italic;">"C-p"</span> . mc/mark-previous-like-this)
                  (<span style="font-style: italic;">"C-n"</span> . mc/mark-next-like-this)
                  (<span style="font-style: italic;">"u"</span> . mc/unmark-next-like-this)
                  (<span style="font-style: italic;">"U"</span> . mc/unmark-previous-like-this)
                  (<span style="font-style: italic;">"s"</span> . mc/skip-to-next-like-this)
                  (<span style="font-style: italic;">"S"</span> . mc/skip-to-previous-like-this)
                  (<span style="font-style: italic;">"*"</span> . mc/mark-all-like-this)))))))

      ((leaf multiple-cursors
         <span style="font-weight: bold;">:smartrep</span> (global-map
                    <span style="font-style: italic;">"C-t"</span>
                    ((<span style="font-style: italic;">"C-p"</span> . mc/mark-previous-like-this)
                     (<span style="font-style: italic;">"C-n"</span> . mc/mark-next-like-this))))
       (<span style="font-weight: bold;">prog1</span> 'multiple-cursors
         (autoload #'mc/mark-previous-like-this <span style="font-style: italic;">"multiple-cursors"</span> nil t)
         (autoload #'mc/mark-next-like-this <span style="font-style: italic;">"multiple-cursors"</span> nil t)
         (eval-after-load 'smartrep
           '(progn
              (smartrep-define-key global-map <span style="font-style: italic;">"C-t"</span>
                '((<span style="font-style: italic;">"C-p"</span> . mc/mark-previous-like-this)
                  (<span style="font-style: italic;">"C-n"</span> . mc/mark-next-like-this)))))))

      ((leaf multiple-cursors
         <span style="font-weight: bold;">:smartrep</span> (global-map
                    <span style="font-style: italic;">"C-t"</span>
                    ((<span style="font-style: italic;">"C-p"</span> . 'mc/mark-previous-like-this)
                     (<span style="font-style: italic;">"C-n"</span> . 'mc/mark-next-like-this))))
       (<span style="font-weight: bold;">prog1</span> 'multiple-cursors
         (autoload #'mc/mark-previous-like-this <span style="font-style: italic;">"multiple-cursors"</span> nil t)
         (autoload #'mc/mark-next-like-this <span style="font-style: italic;">"multiple-cursors"</span> nil t)
         (eval-after-load 'smartrep
           '(progn
              (smartrep-define-key global-map <span style="font-style: italic;">"C-t"</span>
                '((<span style="font-style: italic;">"C-p"</span> quote mc/mark-previous-like-this)
                  (<span style="font-style: italic;">"C-n"</span> quote mc/mark-next-like-this)))))))

      ((leaf multiple-cursors
         <span style="font-weight: bold;">:smartrep</span> (global-map
                    <span style="font-style: italic;">"C-t"</span>
                    '((<span style="font-style: italic;">"C-p"</span> . 'mc/mark-previous-like-this)
                      (<span style="font-style: italic;">"C-n"</span> . 'mc/mark-next-like-this))))
       (<span style="font-weight: bold;">prog1</span> 'multiple-cursors
         (autoload #'mc/mark-previous-like-this <span style="font-style: italic;">"multiple-cursors"</span> nil t)
         (autoload #'mc/mark-next-like-this <span style="font-style: italic;">"multiple-cursors"</span> nil t)
         (eval-after-load 'smartrep
           '(progn
              (smartrep-define-key global-map <span style="font-style: italic;">"C-t"</span>
                '((<span style="font-style: italic;">"C-p"</span> quote mc/mark-previous-like-this)
                  (<span style="font-style: italic;">"C-n"</span> quote mc/mark-next-like-this)))))))

      ((leaf org
         <span style="font-weight: bold;">:smartrep</span> (org-mode-map
                    <span style="font-style: italic;">"C-c"</span>
                    ((<span style="font-style: italic;">"C-n"</span> . (outline-next-visible-heading 1))
                     (<span style="font-style: italic;">"C-p"</span> . (outline-previous-visible-heading 1)))))
       (<span style="font-weight: bold;">prog1</span> 'org
         (eval-after-load 'smartrep
           '(progn
              (smartrep-define-key org-mode-map <span style="font-style: italic;">"C-c"</span>
                '((<span style="font-style: italic;">"C-n"</span> outline-next-visible-heading 1)
                  (<span style="font-style: italic;">"C-p"</span> outline-previous-visible-heading 1)))))))

      ((leaf org
         <span style="font-weight: bold;">:smartrep</span> ((org-mode-map
                     <span style="font-style: italic;">"C-c"</span>
                     ((<span style="font-style: italic;">"C-n"</span> . (outline-next-visible-heading 1))
                      (<span style="font-style: italic;">"C-p"</span> . (outline-previous-visible-heading 1))))
                    (<span style="font-style: italic;">"s-c"</span>
                     ((<span style="font-style: italic;">"M-n"</span> . (outline-next-visible-heading 1))
                      (<span style="font-style: italic;">"M-p"</span> . (outline-previous-visible-heading 1))))))
       (<span style="font-weight: bold;">prog1</span> 'org
         (eval-after-load 'smartrep
           '(progn
              (smartrep-define-key org-mode-map <span style="font-style: italic;">"C-c"</span>
                '((<span style="font-style: italic;">"C-n"</span> outline-next-visible-heading 1)
                  (<span style="font-style: italic;">"C-p"</span> outline-previous-visible-heading 1)))
              (smartrep-define-key global-map <span style="font-style: italic;">"s-c"</span>
                '((<span style="font-style: italic;">"M-n"</span> outline-next-visible-heading 1)
                  (<span style="font-style: italic;">"M-p"</span> outline-previous-visible-heading 1)))))))))

  (cort-deftest-with-macroexpand leaf/smartrep*
    '(((leaf multiple-cursors
         <span style="font-weight: bold;">:smartrep*</span> (<span style="font-style: italic;">"C-t"</span>
                     ((<span style="font-style: italic;">"C-p"</span> . mc/mark-previous-like-this)
                      (<span style="font-style: italic;">"C-n"</span> . mc/mark-next-like-this)
                      (<span style="font-style: italic;">"u"</span>   . mc/unmark-next-like-this)
                      (<span style="font-style: italic;">"U"</span>   . mc/unmark-previous-like-this)
                      (<span style="font-style: italic;">"s"</span>   . mc/skip-to-next-like-this)
                      (<span style="font-style: italic;">"S"</span>   . mc/skip-to-previous-like-this)
                      (<span style="font-style: italic;">"*"</span>   . mc/mark-all-like-this))))
       (<span style="font-weight: bold;">prog1</span> 'multiple-cursors
         (autoload #'mc/mark-previous-like-this <span style="font-style: italic;">"multiple-cursors"</span> nil t)
         (autoload #'mc/mark-next-like-this <span style="font-style: italic;">"multiple-cursors"</span> nil t)
         (autoload #'mc/unmark-next-like-this <span style="font-style: italic;">"multiple-cursors"</span> nil t)
         (autoload #'mc/unmark-previous-like-this <span style="font-style: italic;">"multiple-cursors"</span> nil t)
         (autoload #'mc/skip-to-next-like-this <span style="font-style: italic;">"multiple-cursors"</span> nil t)
         (autoload #'mc/skip-to-previous-like-this <span style="font-style: italic;">"multiple-cursors"</span> nil t)
         (autoload #'mc/mark-all-like-this <span style="font-style: italic;">"multiple-cursors"</span> nil t)
         (eval-after-load 'smartrep
           '(progn
              (smartrep-define-key leaf-key-override-global-map <span style="font-style: italic;">"C-t"</span>
                '((<span style="font-style: italic;">"C-p"</span> . mc/mark-previous-like-this)
                  (<span style="font-style: italic;">"C-n"</span> . mc/mark-next-like-this)
                  (<span style="font-style: italic;">"u"</span> . mc/unmark-next-like-this)
                  (<span style="font-style: italic;">"U"</span> . mc/unmark-previous-like-this)
                  (<span style="font-style: italic;">"s"</span> . mc/skip-to-next-like-this)
                  (<span style="font-style: italic;">"S"</span> . mc/skip-to-previous-like-this)
                  (<span style="font-style: italic;">"*"</span> . mc/mark-all-like-this)))))))

      ((leaf org
         <span style="font-weight: bold;">:smartrep*</span> ((org-mode-map
                      <span style="font-style: italic;">"C-c"</span>
                      ((<span style="font-style: italic;">"C-n"</span> . (outline-next-visible-heading 1))
                       (<span style="font-style: italic;">"C-p"</span> . (outline-previous-visible-heading 1))))
                     (<span style="font-style: italic;">"s-c"</span>
                      ((<span style="font-style: italic;">"M-n"</span> . (outline-next-visible-heading 1))
                       (<span style="font-style: italic;">"M-p"</span> . (outline-previous-visible-heading 1))))))
       (<span style="font-weight: bold;">prog1</span> 'org
         (eval-after-load 'smartrep
           '(progn
              (smartrep-define-key org-mode-map <span style="font-style: italic;">"C-c"</span>
                '((<span style="font-style: italic;">"C-n"</span> outline-next-visible-heading 1)
                  (<span style="font-style: italic;">"C-p"</span> outline-previous-visible-heading 1)))
              (smartrep-define-key leaf-key-override-global-map <span style="font-style: italic;">"s-c"</span>
                '((<span style="font-style: italic;">"M-n"</span> outline-next-visible-heading 1)
                  (<span style="font-style: italic;">"M-p"</span> outline-previous-visible-heading 1)))))))))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org80f9a64" class="outline-3">
<h3 id="org80f9a64">:combo, :combo* keywords</h3>
<div class="outline-text-3" id="text-org80f9a64">
<p>
<code>:combo</code>, <code>:combo*</code> provide frontend for <a href="https://github.com/uk-ar/key-combo">key-combo</a>.
</p>

<p>
They can process a list of arguments, or a nested list of them.
</p>

<p>
Automatically generates an <code>autoload</code> statement when a function symbol is passed.
</p>

<p>
If you omit the key-map to bind, use <code>global-map</code> instead in <code>:combo</code> and
<code>leaf-key-override-global-map</code> for leaf-key in <code>:combo*</code>.
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">  (cort-deftest-with-macroexpand leaf/key-combo
    '(((leaf key-combo
         <span style="font-weight: bold;">:combo</span> ((<span style="font-style: italic;">"="</span>   . (<span style="font-style: italic;">" = "</span> <span style="font-style: italic;">" == "</span> <span style="font-style: italic;">" === "</span> ))
                 (<span style="font-style: italic;">"=&gt;"</span>  . <span style="font-style: italic;">" =&gt; "</span>)
                 (<span style="font-style: italic;">"C-a"</span> . (back-to-indentation move-beginning-of-line beginning-of-buffer key-combo-return))
                 (<span style="font-style: italic;">"C-e"</span> . (move-end-of-line end-of-buffer key-combo-return))))
       (<span style="font-weight: bold;">prog1</span> 'key-combo
         (autoload #'back-to-indentation <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'move-beginning-of-line <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'beginning-of-buffer <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'key-combo-return <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'move-end-of-line <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'end-of-buffer <span style="font-style: italic;">"key-combo"</span> nil t)
         (eval-after-load 'key-combo
           '(progn
              (key-combo-define global-map <span style="font-style: italic;">"=&gt;"</span> <span style="font-style: italic;">" =&gt; "</span>)
              (key-combo-define global-map <span style="font-style: italic;">"C-a"</span> '(back-to-indentation move-beginning-of-line beginning-of-buffer key-combo-return))
              (key-combo-define global-map <span style="font-style: italic;">"C-e"</span> '(move-end-of-line end-of-buffer key-combo-return))))))

      ((leaf key-combo
         <span style="font-weight: bold;">:combo</span> (emacs-lisp-mode-map
                 (<span style="font-style: italic;">"="</span>   . (<span style="font-style: italic;">" = "</span> <span style="font-style: italic;">" == "</span> <span style="font-style: italic;">" === "</span> ))
                 (<span style="font-style: italic;">"=&gt;"</span>  . <span style="font-style: italic;">" =&gt; "</span>)
                 (<span style="font-style: italic;">"C-a"</span> . (back-to-indentation move-beginning-of-line beginning-of-buffer key-combo-return))
                 (<span style="font-style: italic;">"C-e"</span> . (move-end-of-line end-of-buffer key-combo-return))))
       (<span style="font-weight: bold;">prog1</span> 'key-combo
         (autoload #'back-to-indentation <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'move-beginning-of-line <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'beginning-of-buffer <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'key-combo-return <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'move-end-of-line <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'end-of-buffer <span style="font-style: italic;">"key-combo"</span> nil t)
         (eval-after-load 'key-combo
           '(progn
              (key-combo-define emacs-lisp-mode-map <span style="font-style: italic;">"="</span> '(<span style="font-style: italic;">" = "</span> <span style="font-style: italic;">" == "</span> <span style="font-style: italic;">" === "</span>))
              (key-combo-define emacs-lisp-mode-map <span style="font-style: italic;">"=&gt;"</span> <span style="font-style: italic;">" =&gt; "</span>)
              (key-combo-define emacs-lisp-mode-map <span style="font-style: italic;">"C-a"</span> '(back-to-indentation move-beginning-of-line beginning-of-buffer key-combo-return))
              (key-combo-define emacs-lisp-mode-map <span style="font-style: italic;">"C-e"</span> '(move-end-of-line end-of-buffer key-combo-return))))))

      ((leaf key-combo
         <span style="font-weight: bold;">:combo</span> (((<span style="font-style: italic;">"="</span>   . (<span style="font-style: italic;">" = "</span> <span style="font-style: italic;">" == "</span> <span style="font-style: italic;">" === "</span> ))
                  (<span style="font-style: italic;">"=&gt;"</span>  . <span style="font-style: italic;">" =&gt; "</span>)
                  (<span style="font-style: italic;">"C-a"</span> . (back-to-indentation move-beginning-of-line beginning-of-buffer key-combo-return))
                  (<span style="font-style: italic;">"C-e"</span> . (move-end-of-line end-of-buffer key-combo-return)))
                 (emacs-lisp-mode-map
                  (<span style="font-style: italic;">"."</span>  . (<span style="font-style: italic;">"."</span> <span style="font-style: italic;">" . "</span>))
                  (<span style="font-style: italic;">"="</span>  . (<span style="font-style: italic;">"= "</span> <span style="font-style: italic;">"eq "</span> <span style="font-style: italic;">"equal "</span>)))))
       (<span style="font-weight: bold;">prog1</span> 'key-combo
         (autoload #'back-to-indentation <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'move-beginning-of-line <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'beginning-of-buffer <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'key-combo-return <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'move-end-of-line <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'end-of-buffer <span style="font-style: italic;">"key-combo"</span> nil t)
         (eval-after-load 'key-combo
           '(progn
              (key-combo-define global-map <span style="font-style: italic;">"=&gt;"</span> <span style="font-style: italic;">" =&gt; "</span>)
              (key-combo-define global-map <span style="font-style: italic;">"C-a"</span> '(back-to-indentation move-beginning-of-line beginning-of-buffer key-combo-return))
              (key-combo-define global-map <span style="font-style: italic;">"C-e"</span> '(move-end-of-line end-of-buffer key-combo-return))
              (key-combo-define emacs-lisp-mode-map <span style="font-style: italic;">"."</span> '(<span style="font-style: italic;">"."</span> <span style="font-style: italic;">" . "</span>))
              (key-combo-define emacs-lisp-mode-map <span style="font-style: italic;">"="</span> '(<span style="font-style: italic;">"= "</span> <span style="font-style: italic;">"eq "</span> <span style="font-style: italic;">"equal "</span>))))))))

  (cort-deftest-with-macroexpand leaf/key-combo*
    '(((leaf key-combo
         <span style="font-weight: bold;">:combo*</span> ((<span style="font-style: italic;">"="</span>   . (<span style="font-style: italic;">" = "</span> <span style="font-style: italic;">" == "</span> <span style="font-style: italic;">" === "</span> ))
                  (<span style="font-style: italic;">"=&gt;"</span>  . <span style="font-style: italic;">" =&gt; "</span>)
                  (<span style="font-style: italic;">"C-a"</span> . (back-to-indentation move-beginning-of-line beginning-of-buffer key-combo-return))
                  (<span style="font-style: italic;">"C-e"</span> . (move-end-of-line end-of-buffer key-combo-return))))
       (<span style="font-weight: bold;">prog1</span> 'key-combo
         (autoload #'back-to-indentation <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'move-beginning-of-line <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'beginning-of-buffer <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'key-combo-return <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'move-end-of-line <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'end-of-buffer <span style="font-style: italic;">"key-combo"</span> nil t)
         (eval-after-load 'key-combo
           '(progn
              (key-combo-define leaf-key-override-global-map <span style="font-style: italic;">"=&gt;"</span> <span style="font-style: italic;">" =&gt; "</span>)
              (key-combo-define leaf-key-override-global-map <span style="font-style: italic;">"C-a"</span> '(back-to-indentation move-beginning-of-line beginning-of-buffer key-combo-return))
              (key-combo-define leaf-key-override-global-map <span style="font-style: italic;">"C-e"</span> '(move-end-of-line end-of-buffer key-combo-return))))))

      ((leaf key-combo
         <span style="font-weight: bold;">:combo*</span> (emacs-lisp-mode-map
                  (<span style="font-style: italic;">"="</span>   . (<span style="font-style: italic;">" = "</span> <span style="font-style: italic;">" == "</span> <span style="font-style: italic;">" === "</span> ))
                  (<span style="font-style: italic;">"=&gt;"</span>  . <span style="font-style: italic;">" =&gt; "</span>)
                  (<span style="font-style: italic;">"C-a"</span> . (back-to-indentation move-beginning-of-line beginning-of-buffer key-combo-return))
                  (<span style="font-style: italic;">"C-e"</span> . (move-end-of-line end-of-buffer key-combo-return))))
       (<span style="font-weight: bold;">prog1</span> 'key-combo
         (autoload #'back-to-indentation <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'move-beginning-of-line <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'beginning-of-buffer <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'key-combo-return <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'move-end-of-line <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'end-of-buffer <span style="font-style: italic;">"key-combo"</span> nil t)
         (eval-after-load 'key-combo
           '(progn
              (key-combo-define emacs-lisp-mode-map <span style="font-style: italic;">"="</span> '(<span style="font-style: italic;">" = "</span> <span style="font-style: italic;">" == "</span> <span style="font-style: italic;">" === "</span>))
              (key-combo-define emacs-lisp-mode-map <span style="font-style: italic;">"=&gt;"</span> <span style="font-style: italic;">" =&gt; "</span>)
              (key-combo-define emacs-lisp-mode-map <span style="font-style: italic;">"C-a"</span> '(back-to-indentation move-beginning-of-line beginning-of-buffer key-combo-return))
              (key-combo-define emacs-lisp-mode-map <span style="font-style: italic;">"C-e"</span> '(move-end-of-line end-of-buffer key-combo-return))))))

      ((leaf key-combo
         <span style="font-weight: bold;">:combo*</span> (((<span style="font-style: italic;">"="</span>   . (<span style="font-style: italic;">" = "</span> <span style="font-style: italic;">" == "</span> <span style="font-style: italic;">" === "</span> ))
                   (<span style="font-style: italic;">"=&gt;"</span>  . <span style="font-style: italic;">" =&gt; "</span>)
                   (<span style="font-style: italic;">"C-a"</span> . (back-to-indentation move-beginning-of-line beginning-of-buffer key-combo-return))
                   (<span style="font-style: italic;">"C-e"</span> . (move-end-of-line end-of-buffer key-combo-return)))
                  (emacs-lisp-mode-map
                   (<span style="font-style: italic;">"."</span>  . (<span style="font-style: italic;">"."</span> <span style="font-style: italic;">" . "</span>))
                   (<span style="font-style: italic;">"="</span>  . (<span style="font-style: italic;">"= "</span> <span style="font-style: italic;">"eq "</span> <span style="font-style: italic;">"equal "</span>)))))
       (<span style="font-weight: bold;">prog1</span> 'key-combo
         (autoload #'back-to-indentation <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'move-beginning-of-line <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'beginning-of-buffer <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'key-combo-return <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'move-end-of-line <span style="font-style: italic;">"key-combo"</span> nil t)
         (autoload #'end-of-buffer <span style="font-style: italic;">"key-combo"</span> nil t)
         (eval-after-load 'key-combo
           '(progn
              (key-combo-define leaf-key-override-global-map <span style="font-style: italic;">"=&gt;"</span> <span style="font-style: italic;">" =&gt; "</span>)
              (key-combo-define leaf-key-override-global-map <span style="font-style: italic;">"C-a"</span> '(back-to-indentation move-beginning-of-line beginning-of-buffer key-combo-return))
              (key-combo-define leaf-key-override-global-map <span style="font-style: italic;">"C-e"</span> '(move-end-of-line end-of-buffer key-combo-return))
              (key-combo-define emacs-lisp-mode-map <span style="font-style: italic;">"."</span> '(<span style="font-style: italic;">"."</span> <span style="font-style: italic;">" . "</span>))
              (key-combo-define emacs-lisp-mode-map <span style="font-style: italic;">"="</span> '(<span style="font-style: italic;">"= "</span> <span style="font-style: italic;">"eq "</span> <span style="font-style: italic;">"equal "</span>))))))))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org14c0812" class="outline-3">
<h3 id="org14c0812">:mode-hook keyword</h3>
<div class="outline-text-3" id="text-org14c0812">
<p>
<code>:mode-hook</code> provides a front end for setting hooks.
</p>

<p>
Functions registered in hooks are automatically declared function as names like <code>leaf-keywords-mode-hook--cc-mode--cc-mode-hook</code>.
</p>

<p>
If you write multiple expressions like <code>:config</code>, the hook name is guessed from <code>leaf-name</code> and the function is registered to the guessed hook.
</p>

<p>
To specify the hook name explicitly, specify a hook symbol in <code>car</code> and a list of S expressions in <code>cdr</code>.
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">  (cort-deftest-with-macroexpand leaf/mode-hook
    '((<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">you can place sexp(s) like :config</span>
       (leaf cc-mode
         <span style="font-weight: bold;">:mode-hook</span>
         (electric-pair-mode 1)
         (delete-selection-mode 1))
       (<span style="font-weight: bold;">prog1</span> 'cc-mode
         (leaf-keywords-handler-mode-hook cc-mode cc-mode-hook
           (electric-pair-mode 1)
           (delete-selection-mode 1))))

      (<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">you can configure multiple mode hooks</span>
       (leaf cc-mode
         <span style="font-weight: bold;">:config</span>
         (<span style="font-weight: bold;">setq-default</span> c-basic-offset 8)
         <span style="font-weight: bold;">:mode-hook</span>
         (c-mode-common-hook . ((<span style="font-weight: bold;">setq-local</span> tab-width 8)))
         (java-mode-hook . ((<span style="font-weight: bold;">setq-local</span> tab-width 4)
                            (<span style="font-weight: bold;">setq-local</span> c-basic-offset 4))))
       (<span style="font-weight: bold;">prog1</span> 'cc-mode
         (leaf-keywords-handler-mode-hook cc-mode c-mode-common-hook
           (<span style="font-weight: bold;">setq-local</span> tab-width 8))
         (leaf-keywords-handler-mode-hook cc-mode java-mode-hook
           (<span style="font-weight: bold;">setq-local</span> tab-width 4)
           (<span style="font-weight: bold;">setq-local</span> c-basic-offset 4))
         (<span style="font-weight: bold;">setq-default</span> c-basic-offset 8)))

      (<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">you can apply same sexp to multiple mode hooks</span>
       (leaf cc-mode
         <span style="font-weight: bold;">:config</span>
         (<span style="font-weight: bold;">setq-default</span> c-basic-offset 8)
         <span style="font-weight: bold;">:mode-hook</span>
         (c-mode-common-hook emacs-lisp-mode-hook lisp-mode-hook . ((<span style="font-weight: bold;">setq-local</span> tab-width 8)))
         (java-mode-hook . ((<span style="font-weight: bold;">setq-local</span> tab-width 4)
                            (<span style="font-weight: bold;">setq-local</span> c-basic-offset 4))))
       (<span style="font-weight: bold;">prog1</span> 'cc-mode
         (leaf-keywords-handler-mode-hook cc-mode c-mode-common-hook
           (<span style="font-weight: bold;">setq-local</span> tab-width 8))
         (leaf-keywords-handler-mode-hook cc-mode emacs-lisp-mode-hook
           (<span style="font-weight: bold;">setq-local</span> tab-width 8))
         (leaf-keywords-handler-mode-hook cc-mode lisp-mode-hook
           (<span style="font-weight: bold;">setq-local</span> tab-width 8))
         (leaf-keywords-handler-mode-hook cc-mode java-mode-hook
           (<span style="font-weight: bold;">setq-local</span> tab-width 4)
           (<span style="font-weight: bold;">setq-local</span> c-basic-offset 4))
         (<span style="font-weight: bold;">setq-default</span> c-basic-offset 8)))

      (<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">you can mix abobe two specification method</span>
       (leaf cc-mode
         <span style="font-weight: bold;">:config</span>
         (<span style="font-weight: bold;">setq-default</span> c-basic-offset 8)
         <span style="font-weight: bold;">:mode-hook</span>
         (<span style="font-weight: bold;">setq-local</span> tab-width 8)
         (java-mode-hook . ((<span style="font-weight: bold;">setq-local</span> tab-width 4)
                            (<span style="font-weight: bold;">setq-local</span> c-basic-offset 4))))
       (<span style="font-weight: bold;">prog1</span> 'cc-mode
         (leaf-keywords-handler-mode-hook cc-mode cc-mode-hook
           (<span style="font-weight: bold;">setq-local</span> tab-width 8))
         (leaf-keywords-handler-mode-hook cc-mode java-mode-hook
           (<span style="font-weight: bold;">setq-local</span> tab-width 4)
           (<span style="font-weight: bold;">setq-local</span> c-basic-offset 4))
         (<span style="font-weight: bold;">setq-default</span> c-basic-offset 8)))

      (<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">multiple keyword specification is supported</span>
       (leaf cc-mode
         <span style="font-weight: bold;">:config</span>
         (<span style="font-weight: bold;">setq-default</span> c-basic-offset 8)
         <span style="font-weight: bold;">:mode-hook</span>
         (<span style="font-weight: bold;">setq-local</span> tab-width 8)
         (c-mode-common-hook . ((<span style="font-weight: bold;">setq-local</span> tab-width 8)))
         <span style="font-weight: bold;">:mode-hook</span>
         (java-mode-hook . ((<span style="font-weight: bold;">setq-local</span> tab-width 4)
                            (<span style="font-weight: bold;">setq-local</span> c-basic-offset 4))))
       (<span style="font-weight: bold;">prog1</span> 'cc-mode
         (leaf-keywords-handler-mode-hook cc-mode cc-mode-hook
           (<span style="font-weight: bold;">setq-local</span> tab-width 8))
         (leaf-keywords-handler-mode-hook cc-mode c-mode-common-hook
           (<span style="font-weight: bold;">setq-local</span> tab-width 8))
         (leaf-keywords-handler-mode-hook cc-mode java-mode-hook
           (<span style="font-weight: bold;">setq-local</span> tab-width 4)
           (<span style="font-weight: bold;">setq-local</span> c-basic-offset 4))
         (<span style="font-weight: bold;">setq-default</span> c-basic-offset 8)))

      (<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">leaf-keywords-handler-mode-hook expand like below</span>
       (leaf-keywords-handler-mode-hook cc-mode cc-mode-hook
         (electric-pair-mode 1)
         (delete-selection-mode 1))
       (<span style="font-weight: bold;">progn</span>
         (<span style="font-weight: bold;">defun</span> <span style="font-weight: bold;">leaf-keywords-mode-hook--cc-mode--cc-mode-hook</span> ()
           <span style="font-style: italic;">"Function autogenerated by leaf-keywords in leaf-block `</span><span style="font-weight: bold; font-style: italic; text-decoration: underline;">cc-mode</span><span style="font-style: italic;">' for hook `</span><span style="font-weight: bold; font-style: italic; text-decoration: underline;">cc-mode-hook</span><span style="font-style: italic;">'."</span>
           (electric-pair-mode 1)
           (delete-selection-mode 1))
         (add-hook 'cc-mode-hook 'leaf-keywords-mode-hook--cc-mode--cc-mode-hook)))))
</code></pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org75d6cb5" class="outline-2">
<h2 id="org75d6cb5">Modeline keywords</h2>
<div class="outline-text-2" id="text-org75d6cb5">
</div>
<div id="outline-container-org8cd265a" class="outline-3">
<h3 id="org8cd265a">:blackout keyword</h3>
<div class="outline-text-3" id="text-org8cd265a">
<p>
<code>:blackout</code> keyword provide frontend for <a href="https://github.com/raxod502/blackout">blackout</a>.
</p>

<p>
There are three packages that change the display of the modeline:
<code>deminish</code>, <code>delight</code> and <code>blackout</code>, but the most recent
developed is <code>blackout</code>, and the developer of <code>leaf</code> recommend
that you use <code>blackout</code>.
</p>

<p>
This package allows you to change the display of the major mode
as well as the minor mode.  And it also requires two arguments,
so it can be set in the cons-cell and has a high affinity with
other keywords in <code>leaf</code>.
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">  (cort-deftest-with-macroexpand leaf/blackout
    '(
      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">t will be converted leaf--name</span>
      ((leaf foo-mode
         <span style="font-weight: bold;">:blackout</span> t)
       (<span style="font-weight: bold;">prog1</span> 'foo-mode
         (<span style="font-weight: bold;">with-eval-after-load</span> 'foo-mode
           (blackout 'foo-mode nil))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">guess leaf--name as mode-name</span>
      ((leaf foo
         <span style="font-weight: bold;">:blackout</span> t)
       (<span style="font-weight: bold;">prog1</span> 'foo
         (<span style="font-weight: bold;">with-eval-after-load</span> 'foo
           (blackout 'foo-mode nil))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">blackout if specify symbol only</span>
      ((leaf simple
         <span style="font-weight: bold;">:blackout</span> auto-fill-mode)
       (<span style="font-weight: bold;">prog1</span> 'simple
         (<span style="font-weight: bold;">with-eval-after-load</span> 'simple
           (blackout 'auto-fill-mode nil))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">expect cons-cell to change display of a mode</span>
      ((leaf simple
         <span style="font-weight: bold;">:blackout</span> (auto-fill-mode . <span style="font-style: italic;">" Auto-Fill"</span>))
       (<span style="font-weight: bold;">prog1</span> 'simple
         (<span style="font-weight: bold;">with-eval-after-load</span> 'simple
           (blackout 'auto-fill-mode <span style="font-style: italic;">" Auto-Fill"</span>))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">change major-mode display by same way</span>
      ((leaf elisp-mode
         <span style="font-weight: bold;">:blackout</span> (emacs-lisp-mode . <span style="font-style: italic;">"Elisp"</span>))
       (<span style="font-weight: bold;">prog1</span> 'elisp-mode
         (<span style="font-weight: bold;">with-eval-after-load</span> 'elisp-mode
           (blackout 'emacs-lisp-mode <span style="font-style: italic;">"Elisp"</span>))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">cons-cell list also accepted</span>
      ((leaf simple
         <span style="font-weight: bold;">:blackout</span> ((auto-fill-mode . <span style="font-style: italic;">" Auto-Fill"</span>)
                    (overwrite-mode . <span style="font-style: italic;">" Overwrite"</span>)))
       (<span style="font-weight: bold;">prog1</span> 'simple
         (<span style="font-weight: bold;">with-eval-after-load</span> 'simple
           (blackout 'auto-fill-mode <span style="font-style: italic;">" Auto-Fill"</span>)
           (blackout 'overwrite-mode <span style="font-style: italic;">" Overwrite"</span>))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">multi cons-cell also accepted</span>
      ((leaf simple
         <span style="font-weight: bold;">:blackout</span>
         (auto-fill-mode . <span style="font-style: italic;">" Auto-Fill"</span>)
         (overwrite-mode . <span style="font-style: italic;">" Overwrite"</span>))
       (<span style="font-weight: bold;">prog1</span> 'simple
         (<span style="font-weight: bold;">with-eval-after-load</span> 'simple
           (blackout 'auto-fill-mode <span style="font-style: italic;">" Auto-Fill"</span>)
           (blackout 'overwrite-mode <span style="font-style: italic;">" Overwrite"</span>))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">multi keyword also accepted</span>
      ((leaf simple
         <span style="font-weight: bold;">:blackout</span> (auto-fill-mode . <span style="font-style: italic;">" Auto-Fill"</span>)
         <span style="font-weight: bold;">:blackout</span> (overwrite-mode . <span style="font-style: italic;">" Overwrite"</span>))
       (<span style="font-weight: bold;">prog1</span> 'simple
         (<span style="font-weight: bold;">with-eval-after-load</span> 'simple
           (blackout 'auto-fill-mode <span style="font-style: italic;">" Auto-Fill"</span>)
           (blackout 'overwrite-mode <span style="font-style: italic;">" Overwrite"</span>))))))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-orgb3a99dc" class="outline-3">
<h3 id="orgb3a99dc">:diminish keyword</h3>
<div class="outline-text-3" id="text-orgb3a99dc">
<p>
<code>:diminish</code> keyword provide frontend for <a href="https://github.com/myrjola/diminish.el/tree/master">diminish</a>.
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">  (cort-deftest-with-macroexpand leaf/diminish
    '(((leaf autorevert
         <span style="font-weight: bold;">:diminish</span> t)
       (<span style="font-weight: bold;">prog1</span> 'autorevert
         (<span style="font-weight: bold;">with-eval-after-load</span> 'autorevert
           (diminish 'autorevert-mode nil))))

      ((leaf autorevert
         <span style="font-weight: bold;">:diminish</span> autorevert-mode)
       (<span style="font-weight: bold;">prog1</span> 'autorevert
         (<span style="font-weight: bold;">with-eval-after-load</span> 'autorevert
           (diminish 'autorevert-mode nil))))

      ((leaf autorevert
         <span style="font-weight: bold;">:diminish</span> t
         <span style="font-weight: bold;">:diminish</span> autorevert-polyfill)
       (<span style="font-weight: bold;">prog1</span> 'autorevert
         (<span style="font-weight: bold;">with-eval-after-load</span> 'autorevert
           (diminish 'autorevert-mode nil)
           (diminish 'autorevert-polyfill-mode nil))))

      ((leaf autorevert
         <span style="font-weight: bold;">:diminish</span> t autorevert-polyfill)
       (<span style="font-weight: bold;">prog1</span> 'autorevert
         (<span style="font-weight: bold;">with-eval-after-load</span> 'autorevert
           (diminish 'autorevert-mode nil)
           (diminish 'autorevert-polyfill-mode nil))))

      ((leaf go-mode
         <span style="font-weight: bold;">:diminish</span> <span style="font-style: italic;">" Go"</span>)
       (<span style="font-weight: bold;">prog1</span> 'go-mode
         (<span style="font-weight: bold;">with-eval-after-load</span> 'go-mode
           (diminish 'go-mode <span style="font-style: italic;">" Go"</span>))))

      ((leaf abbrev
         <span style="font-weight: bold;">:diminish</span> (abbrev-mode . <span style="font-style: italic;">" Abv"</span>))
       (<span style="font-weight: bold;">prog1</span> 'abbrev
         (<span style="font-weight: bold;">with-eval-after-load</span> 'abbrev
           (diminish 'abbrev-mode <span style="font-style: italic;">" Abv"</span>))))

      ((leaf projectile
         <span style="font-weight: bold;">:diminish</span> (projectile-mode . '(<span style="font-weight: bold;">:eval</span> (concat <span style="font-style: italic;">" "</span> (projectile-project-name)))))
       (<span style="font-weight: bold;">prog1</span> 'projectile
         (<span style="font-weight: bold;">with-eval-after-load</span> 'projectile
           (diminish 'projectile-mode
                     '(<span style="font-weight: bold;">:eval</span> (concat <span style="font-style: italic;">" "</span> (projectile-project-name)))))))))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-orga70ebfa" class="outline-3">
<h3 id="orga70ebfa">:delight keyword</h3>
<div class="outline-text-3" id="text-orga70ebfa">
<p>
<code>:delight</code> keyword provide frontend for delight (<a href="http://elpa.gnu.org/packages/delight.html">ELPA</a>, <a href="https://www.emacswiki.org/emacs/DelightedModes">Emacs wiki</a>).
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">  (cort-deftest-with-macroexpand leaf/delight
    '(((leaf autorevert
         <span style="font-weight: bold;">:delight</span> t)
       (<span style="font-weight: bold;">prog1</span> 'autorevert
         (delight 'autorevert-mode)))

      ((leaf autorevert
         <span style="font-weight: bold;">:delight</span> autorevert)
       (<span style="font-weight: bold;">prog1</span> 'autorevert
         (delight 'autorevert-mode)))

      ((leaf autorevert
         <span style="font-weight: bold;">:delight</span> t
         <span style="font-weight: bold;">:delight</span> autorevert-polyfill)
       (<span style="font-weight: bold;">prog1</span> 'autorevert
         (delight 'autorevert-mode)
         (delight 'autorevert-polyfill-mode)))

      ((leaf autorevert
         <span style="font-weight: bold;">:delight</span> t autorevert-polyfill)
       (<span style="font-weight: bold;">prog1</span> 'autorevert
         (delight 'autorevert-mode)
         (delight 'autorevert-polyfill-mode)))

      ((leaf go-mode
         <span style="font-weight: bold;">:delight</span> <span style="font-style: italic;">" Go"</span>)
       (<span style="font-weight: bold;">prog1</span> 'go-mode
         (delight 'go-mode <span style="font-style: italic;">" Go"</span>)))

      ((leaf abbrev
         <span style="font-weight: bold;">:delight</span> (abbrev-mode <span style="font-style: italic;">" Abv"</span>))
       (<span style="font-weight: bold;">prog1</span> 'abbrev
         (delight 'abbrev-mode <span style="font-style: italic;">" Abv"</span>)))

      ((leaf projectile
         <span style="font-weight: bold;">:delight</span> (projectile-mode '(<span style="font-weight: bold;">:eval</span> (concat <span style="font-style: italic;">" "</span> (projectile-project-name)))))
       (<span style="font-weight: bold;">prog1</span> 'projectile
         (delight 'projectile-mode
                  '(<span style="font-weight: bold;">:eval</span>
                    (concat <span style="font-style: italic;">" "</span>
                            (projectile-project-name))))))

      ((leaf delight
         <span style="font-weight: bold;">:delight</span> ((abbrev-mode <span style="font-style: italic;">" Abv"</span> <span style="font-style: italic;">"abbrev"</span>)
                   (smart-tab-mode <span style="font-style: italic;">" \\t"</span> <span style="font-style: italic;">"smart-tab"</span>)
                   (eldoc-mode nil <span style="font-style: italic;">"eldoc"</span>)
                   (rainbow-mode)
                   (overwrite-mode <span style="font-style: italic;">" Ov"</span> t)
                   (emacs-lisp-mode <span style="font-style: italic;">"Elisp"</span> <span style="font-weight: bold;">:major</span>)))
       (<span style="font-weight: bold;">prog1</span> 'delight
         (delight 'abbrev-mode <span style="font-style: italic;">" Abv"</span> <span style="font-style: italic;">"abbrev"</span>)
         (delight 'smart-tab-mode <span style="font-style: italic;">" \\t"</span> <span style="font-style: italic;">"smart-tab"</span>)
         (delight 'eldoc-mode nil <span style="font-style: italic;">"eldoc"</span>)
         (delight 'rainbow-mode)
         (delight 'overwrite-mode <span style="font-style: italic;">" Ov"</span> t)
         (delight 'emacs-lisp-mode <span style="font-style: italic;">"Elisp"</span> <span style="font-weight: bold;">:major</span>)))))
</code></pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org9e0daa9" class="outline-2">
<h2 id="org9e0daa9">Misc keywords</h2>
<div class="outline-text-2" id="text-org9e0daa9">
</div>
<div id="outline-container-orgac5a6ca" class="outline-3">
<h3 id="orgac5a6ca">:grugru keyword</h3>
<div class="outline-text-3" id="text-orgac5a6ca">
<p>
<code>:grugru</code> keyword provide frontend for <a href="https://github.com/ROCKTAKEY/grugru">grugru</a>.
</p>

<p>
<code>grugru</code> allows you to define conversion rules for symbols based on
the <code>major-mode</code>.  This <code>:grugru</code> keyword defines a conversion rule
for <code>grugru</code> and, if you omit the measure mode specification, it
assumes that <code>leaf--name</code> is the target <code>major-mode</code>.
</p>

<p>
If <code>leaf--name</code> is not suffixed with <code>-mode</code>, it is automatically
compensated for.  If your intended <code>major-mode</code> does not follow
these rules, you cannot omit target <code>major-mode</code>.
(e.g. <code>c-mode</code> in <code>cc-mode</code>)
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">  (cort-deftest-with-macroexpand leaf/grugru
    '(
      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">grugru difinition with :grugru keyword</span>
      ((leaf cc-mode
         <span style="font-weight: bold;">:grugru</span>
         (c-mode
          (symbol <span style="font-style: italic;">"true"</span> <span style="font-style: italic;">"false"</span>)))
       (<span style="font-weight: bold;">prog1</span> 'cc-mode
         (grugru-define-multiple
          (c-mode (symbol <span style="font-style: italic;">"true"</span> <span style="font-style: italic;">"false"</span>)))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">definition list also accepted</span>
      ((leaf cc-mode
         <span style="font-weight: bold;">:grugru</span>
         ((c-mode
           (symbol <span style="font-style: italic;">"true"</span> <span style="font-style: italic;">"false"</span>))))
       (<span style="font-weight: bold;">prog1</span> 'cc-mode
         (grugru-define-multiple
          (c-mode (symbol <span style="font-style: italic;">"true"</span> <span style="font-style: italic;">"false"</span>)))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">grugru definition with major-mode list</span>
      ((leaf cc-mode
         <span style="font-weight: bold;">:grugru</span>
         ((c-mode c++-mode)
          (symbol <span style="font-style: italic;">"true"</span> <span style="font-style: italic;">"false"</span>)))
       (<span style="font-weight: bold;">prog1</span> 'cc-mode
         (grugru-define-multiple
          ((c-mode c++-mode)
           (symbol <span style="font-style: italic;">"true"</span> <span style="font-style: italic;">"false"</span>)))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">definition list with major-mode list</span>
      ((leaf cc-mode
         <span style="font-weight: bold;">:grugru</span>
         (((c-mode c++-mode)
           (symbol <span style="font-style: italic;">"true"</span> <span style="font-style: italic;">"false"</span>))))
       (<span style="font-weight: bold;">prog1</span> 'cc-mode
         (grugru-define-multiple
          ((c-mode c++-mode) (symbol <span style="font-style: italic;">"true"</span> <span style="font-style: italic;">"false"</span>)))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">simple listed definition are inferred to be for leaf--name</span>
      ((leaf lisp-mode
         <span style="font-weight: bold;">:grugru</span>
         (symbol <span style="font-style: italic;">"nil"</span> <span style="font-style: italic;">"t"</span>)
         (emacs-lisp-mode
          (word <span style="font-style: italic;">"add"</span> <span style="font-style: italic;">"remove"</span>)))
       (<span style="font-weight: bold;">prog1</span> 'lisp-mode
         (grugru-define-multiple
          (lisp-mode (symbol <span style="font-style: italic;">"nil"</span> <span style="font-style: italic;">"t"</span>))
          (emacs-lisp-mode (word <span style="font-style: italic;">"add"</span> <span style="font-style: italic;">"remove"</span>)))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">simple listed definition list are inferred to be for leaf--name</span>
      ((leaf lisp-mode
         <span style="font-weight: bold;">:grugru</span>
         ((symbol <span style="font-style: italic;">"nil"</span> <span style="font-style: italic;">"t"</span>)
          (emacs-lisp-mode
           (word <span style="font-style: italic;">"add"</span> <span style="font-style: italic;">"remove"</span>))))
       (<span style="font-weight: bold;">prog1</span> 'lisp-mode
         (grugru-define-multiple
          (lisp-mode (symbol <span style="font-style: italic;">"nil"</span> <span style="font-style: italic;">"t"</span>))
          (emacs-lisp-mode (word <span style="font-style: italic;">"add"</span> <span style="font-style: italic;">"remove"</span>)))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">assume major-mode name from leaf--name</span>
      ((leaf gnuplot
         <span style="font-weight: bold;">:grugru</span>
         ((symbol <span style="font-style: italic;">"sin"</span> <span style="font-style: italic;">"cos"</span> <span style="font-style: italic;">"tan"</span>)
          (symbol <span style="font-style: italic;">"log"</span> <span style="font-style: italic;">"log10"</span>)))
       (<span style="font-weight: bold;">prog1</span> 'gnuplot
         (grugru-define-multiple
          (gnuplot-mode
           (symbol <span style="font-style: italic;">"sin"</span> <span style="font-style: italic;">"cos"</span> <span style="font-style: italic;">"tan"</span>))
          (gnuplot-mode
           (symbol <span style="font-style: italic;">"log"</span> <span style="font-style: italic;">"log10"</span>)))))))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org76a00da" class="outline-3">
<h3 id="org76a00da">:defaults keyword</h3>
<div class="outline-text-3" id="text-org76a00da">
<p>
This is a keyword that calls a dynamically named function.
</p>

<p>
If you define various settings for this function in a separate
file, you may be able to reduce the number of lines in
init.el.  This is a one of use case of this.
</p>

<p>
Also, if you distribute the functions to be used, someone can use
your recommended settings.
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">  (cort-deftest-with-macroexpand leaf/defaults
    '(((leaf helm
         <span style="font-weight: bold;">:ensure</span> t
         <span style="font-weight: bold;">:defaults</span> t)
       (<span style="font-weight: bold;">prog1</span> 'helm
         (leaf-handler-package helm helm nil)
         (leaf-keywords-defaults--leaf/helm)))

      ((leaf helm
         <span style="font-weight: bold;">:when</span> nil
         <span style="font-weight: bold;">:ensure</span> t
         <span style="font-weight: bold;">:defaults</span> t)
       (<span style="font-weight: bold;">prog1</span> 'helm
         (<span style="font-weight: bold;">when</span> nil
           (leaf-handler-package helm helm nil)
           (leaf-keywords-defaults--leaf/helm))))

      ((leaf helm
         <span style="font-weight: bold;">:ensure</span> t
         <span style="font-weight: bold;">:defaults</span> conao3)
       (<span style="font-weight: bold;">prog1</span> 'helm
         (leaf-handler-package helm helm nil)
         (leaf-keywords-defaults--conao3/helm)))

      ((leaf helm
         <span style="font-weight: bold;">:ensure</span> t
         <span style="font-weight: bold;">:defaults</span> conao3 garario3)
       (<span style="font-weight: bold;">prog1</span> 'helm
         (leaf-handler-package helm helm nil)
         (leaf-keywords-defaults--conao3/helm)
         (leaf-keywords-defaults--garario3/helm)))

      ((leaf helm
         <span style="font-weight: bold;">:ensure</span> t
         <span style="font-weight: bold;">:defaults</span> conao3
         <span style="font-weight: bold;">:defaults</span> garario3)
       (<span style="font-weight: bold;">prog1</span> 'helm
         (leaf-handler-package helm helm nil)
         (leaf-keywords-defaults--conao3/helm)
         (leaf-keywords-defaults--garario3/helm)))

      ((leaf helm
         <span style="font-weight: bold;">:ensure</span> t
         <span style="font-weight: bold;">:defaults</span> nil
         <span style="font-weight: bold;">:defaults</span> conao3
         <span style="font-weight: bold;">:defaults</span> garario3)
       (<span style="font-weight: bold;">prog1</span> 'helm
         (leaf-handler-package helm helm nil)))))
</code></pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org0195bc9" class="outline-2">
<h2 id="org0195bc9">Information</h2>
<div class="outline-text-2" id="text-org0195bc9">
</div>
<div id="outline-container-orgebb9edc" class="outline-3">
<h3 id="orgebb9edc">Donation</h3>
<div class="outline-text-3" id="text-orgebb9edc">
<p>
I love OSS and I am dreaming of working on it as <b>full-time</b> job.
</p>

<p>
<b>With your support</b>, I will be able to spend more time at OSS!
</p>


<div id="orgb816fb7" class="figure">
<p><a href="https://www.patreon.com/conao3"><img src="https://c5.patreon.com/external/logo/become_a_patron_button.png" alt="become_a_patron_button.png" /></a>
</p>
</div>
</div>
</div>

<div id="outline-container-org67089cc" class="outline-3">
<h3 id="org67089cc">Community</h3>
<div class="outline-text-3" id="text-org67089cc">
<p>
All feedback and suggestions are welcome!
</p>

<p>
You can use github issues, but you can also use <a href="https://join.slack.com/t/conao3-support/shared_invite/enQtNjUzMDMxODcyMjE1LTA4ZGRmOWYwZWE3NmE5NTkyZjk3M2JhYzU2ZmRkMzdiMDdlYTQ0ODMyM2ExOGY0OTkzMzZiMTNmZjJjY2I5NTM">Slack</a>
if you want a more casual conversation.
</p>
</div>
</div>

<div id="outline-container-orgdb5f07c" class="outline-3">
<h3 id="orgdb5f07c">Contribution</h3>
<div class="outline-text-3" id="text-orgdb5f07c">
<p>
We welcome PR!
Travis Cl test <code>leaf-test.el</code> with all Emacs version 24.4 or above.
</p>

<p>
I think that it is difficult to prepare the environment locally,
so I think that it is good to throw PR and test Travis for the time being!
Feel free throw PR!
</p>
</div>

<div id="outline-container-org8539a07" class="outline-4">
<h4 id="org8539a07">Define new keywords</h4>
<div class="outline-text-4" id="text-org8539a07">
<p>
The following script is useful for adding keywords. This is a simplified <code>leaf</code> macro for <code>*scratch*</code>.
</p>

<p>
You first design the list that the normalizer should return and define the keyword processor.
Then trial-and-error builds the normalizer by this script, and by typing <code>C-M-x (eval-defun)</code> at the beginning of <code>defcustom</code>,
it can be overwrite variable and recognized by <code>leaf</code> (At that time the function to specify <code>:set</code> is executed.).
</p>

<p>
Once you have the S-expression expected from <a href="https://github.com/joddie/macrostep">macrostep</a>, let <code>leaf-keywords-test.el</code> define multiple tests
to ensure that they will execute correctly into the future.
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">  (<span style="font-weight: bold;">let</span> ((name 'leaf)
        (args '(<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">&lt;&lt; Your new leaf argument &gt;&gt;</span>
                <span style="font-weight: bold;">:combo</span> ((<span style="font-style: italic;">"="</span>   . (<span style="font-style: italic;">" = "</span> <span style="font-style: italic;">" == "</span> <span style="font-style: italic;">" === "</span> ))
                        (<span style="font-style: italic;">"=&gt;"</span>  . <span style="font-style: italic;">" =&gt; "</span>)
                        (<span style="font-style: italic;">"C-a"</span> . (back-to-indentation move-beginning-of-line beginning-of-buffer key-combo-return))
                        (<span style="font-style: italic;">"C-e"</span> . (move-end-of-line end-of-buffer key-combo-return))))))

    <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">call `</span><span style="font-weight: bold; font-style: italic; text-decoration: underline;">leaf</span><span style="font-weight: bold; font-style: italic;">'</span>
    (<span style="font-weight: bold;">let*</span> ((leaf--autoload)
           <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">omit `</span><span style="font-weight: bold; font-style: italic; text-decoration: underline;">leaf-append-defaults</span><span style="font-weight: bold; font-style: italic;">' to debug</span>
           (args* (leaf-sort-values-plist
                   (leaf-normalize-plist args 'merge 'eval))))

      <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">call `</span><span style="font-weight: bold; font-style: italic; text-decoration: underline;">leaf-process-keywords</span><span style="font-weight: bold; font-style: italic;">'</span>
      (<span style="font-weight: bold;">let</span> ((name name) (plist args*) (raw args*))
        (<span style="font-weight: bold;">let*</span> ((leaf--name    name)
               (leaf--key     (<span style="font-weight: bold;">pop</span> plist))
               (leaf--keyname (substring (symbol-name leaf--key) 1))
               (leaf--value   (<span style="font-weight: bold;">pop</span> plist))
               (leaf--raw     raw)
               (leaf--rest    plist)
               (leaf--body))
          <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">renew (normalize) leaf--value, save follow expansion in leaf--body</span>
          (<span style="font-weight: bold;">setq</span> leaf--value
                (<span style="font-weight: bold;">cond</span>

                 <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">&lt;&lt; Your new normalizer &gt;&gt;</span>
                 ((memq leaf--key '(<span style="font-weight: bold;">:combo</span> <span style="font-weight: bold;">:combo*</span>))
                  (<span style="font-weight: bold;">let</span> ((map (<span style="font-weight: bold;">if</span> (eq <span style="font-weight: bold;">:combo</span> leaf--key) 'global-map 'leaf-key-override-global-map))
                        (val) (fns))
                    (<span style="font-weight: bold;">setq</span> val (mapcan
                               (<span style="font-weight: bold;">lambda</span> (elm)
                                 (<span style="font-weight: bold;">cond</span>
                                  ((<span style="font-weight: bold;">and</span> (listp elm)
                                        (listp (car elm))
                                        (listp (caar elm)))
                                   (mapcan
                                    (<span style="font-weight: bold;">lambda</span> (el)
                                      (<span style="font-weight: bold;">let</span> ((emap  (<span style="font-weight: bold;">and</span> (symbolp (car el)) (car el)))   <span style="font-weight: bold; font-style: italic;">; </span><span style="font-weight: bold; font-style: italic;">el's map</span>
                                            (binds (<span style="font-weight: bold;">if</span> (leaf-pairp (car el)) el (cdr el))))
                                        (mapcar
                                         (<span style="font-weight: bold;">lambda</span> (el)
                                           (<span style="font-weight: bold;">setq</span> fns (append fns (<span style="font-weight: bold;">if</span> (listp (cdr el)) (cdr el) `(,(cdr el)))))
                                           `(,(<span style="font-weight: bold;">or</span> emap map) ,(car el) ,(<span style="font-weight: bold;">if</span> (stringp (cdr el)) (cdr el) `',(cdr el))))
                                         binds)))
                                    elm))
                                  ((listp elm)
                                   (<span style="font-weight: bold;">let</span> ((emap  (<span style="font-weight: bold;">and</span> (symbolp (car elm)) (car elm)))    <span style="font-weight: bold; font-style: italic;">; </span><span style="font-weight: bold; font-style: italic;">elm's map</span>
                                         (binds (<span style="font-weight: bold;">if</span> (leaf-pairp (car elm)) elm (cdr elm))))
                                     (mapcar
                                      (<span style="font-weight: bold;">lambda</span> (el)
                                        (<span style="font-weight: bold;">setq</span> fns (append fns (<span style="font-weight: bold;">if</span> (listp (cdr el)) (cdr el) `(,(cdr el)))))
                                        `(,(<span style="font-weight: bold;">or</span> emap map) ,(car el) ,(<span style="font-weight: bold;">if</span> (stringp (cdr el)) (cdr el) `',(cdr el))))
                                      binds)))))
                               leaf--value))
                    `(,val ,(delq nil (mapcar (<span style="font-weight: bold;">lambda</span> (elm) (<span style="font-weight: bold;">when</span> (symbolp elm) elm)) fns)))))))

          (pp `((<span style="font-weight: bold;">:dummy</span>)
                ========== leaf--value
                ,leaf--value
                (<span style="font-weight: bold;">:dummy</span>)
                ========== leaf--body
                (<span style="font-weight: bold;">progn</span>
                  ,@(eval (plist-get leaf-keywords leaf--key)))
                ))
          nil))))
</code></pre>
</div>

<p>
Note: <code>macrostep</code> return <code>function</code> instead of #', replace it via follow regexp by <code>C-M-% (query-replace-regexp)</code>.
</p>

<blockquote>
<p>
(autoload
         (function \([^ ]*\))
         \([^ ]*\) → (autoload #'\1 \2
</p>
</blockquote>
</div>
</div>
</div>

<div id="outline-container-orgaa9defa" class="outline-3">
<h3 id="orgaa9defa">Migration</h3>
<div class="outline-text-3" id="text-orgaa9defa">
</div>
<div id="outline-container-orge2ec970" class="outline-4">
<h4 id="orge2ec970">leaf-keywords v1.0 to v2.0</h4>
<div class="outline-text-4" id="text-orge2ec970">
</div>
<ul class="org-ul">
<li><a id="org774e193"></a>Remove leaf-keywords-after-load<br />
<div class="outline-text-5" id="text-org774e193">
<p>
We also have <code>leaf-keywords-after-require</code>, it's confusing.
Plsease use <code>leaf-keywords-after-require</code>.
</p>
</div>
</li>
<li><a id="org404f485"></a>Rename leaf-keyowrds-before-load to leaf-keyowrds-before-require<br />
<div class="outline-text-5" id="text-org404f485">
<p>
We also have <code>leaf-keyowrds-after-require</code>,
we should use <code>leaf-keyowrds-before-require</code> to consistency.
</p>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-orga33097c" class="outline-3">
<h3 id="orga33097c">License</h3>
<div class="outline-text-3" id="text-orga33097c">
<pre class="example" id="org640351d">
  General Public License Version 3 (GPLv3)
  Copyright (c) Naoya Yamashita - https://conao3.com
  https://github.com/conao3/leaf-keywords.el/blob/master/LICENSE
</pre>
</div>
</div>

<div id="outline-container-org91d6771" class="outline-3">
<h3 id="org91d6771">Author</h3>
<div class="outline-text-3" id="text-org91d6771">
<ul class="org-ul">
<li>Naoya Yamashita (<a href="https://github.com/conao3">conao3</a>)</li>
</ul>
</div>
</div>

<div id="outline-container-org602c3a4" class="outline-3">
<h3 id="org602c3a4">Contributors</h3>
<div class="outline-text-3" id="text-org602c3a4">
<ul class="org-ul">
<li>Leo Gaskin (<a href="https://github.com/leotaku">leotaku</a>)</li>
<li>Nasy (<a href="https://github.com/nasyxx">Nasy</a>)</li>
</ul>
</div>
</div>

<div id="outline-container-org521e77c" class="outline-3">
<h3 id="org521e77c">Special Thanks</h3>
<div class="outline-text-3" id="text-org521e77c">
<p>
Advice and comments given by <a href="http://emacs-jp.github.io/">Emacs-JP</a>'s forum member has been a great help
in developing <code>leaf-keywords.el</code>.
</p>

<p>
Thank you very much!!
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2019-05-24 Fri 00:00</p>
<p class="author">Author: conao3</p>
<p class="date">Created: 2023-09-05 Tue 00:51</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
